{
	"info": {
		"_postman_id": "6bf405fe-a970-4622-ad9b-69896f8171e8",
		"name": "Personal Demographics Service - Sandbox",
		"description": "Sandbox Testing",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Patient",
			"item": [
				{
					"name": "Search",
					"item": [
						{
							"name": "Advanced",
							"item": [
								{
									"name": "Successful advanced search",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "ef4a35e3-f416-475e-b37c-8089e92b3b38",
												"exec": [
													"pm.test(\"Returns status code 200 OK\", () =>{",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Returns correct canned response\", () =>{",
													"    console.log(\"Expected Response: \" + JSON.stringify(pm.environment.get(\"expected_response\")));",
													"    console.log(\"Actual Response: \" + JSON.stringify(pm.response.json().entry[0]));",
													"    pm.expect(JSON.stringify(pm.response.json().entry[0])).to.eql(JSON.stringify(pm.environment.get(\"expected_response\").entry[0]));",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "03191a0f-51e3-4856-bbfd-b4a5fa27782d",
												"exec": [
													"var expected_response =",
													"{",
													"    \"resourceType\": \"Bundle\",",
													"    \"type\": \"searchset\",",
													"    \"timestamp\": \"2020-05-27T11:28:34+00:00\",",
													"    \"total\": 2,",
													"    \"entry\": [",
													"        {",
													"            \"fullUrl\": \"https://beta.api.digital.nhs.uk/personal-demographics/Patient/9000000009\",",
													"            \"search\": {",
													"                \"score\": 0.8343",
													"            },",
													"            \"resource\": {",
													"                \"address\": [",
													"                    {",
													"                        \"extension\": [",
													"                            {",
													"                                \"extension\": [",
													"                                    {",
													"                                        \"url\": \"type\",",
													"                                        \"valueCoding\": {",
													"                                            \"code\": \"PAF\",",
													"                                            \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-AddressKeyType\"",
													"                                        }",
													"                                    },",
													"                                    {",
													"                                        \"url\": \"value\",",
													"                                        \"valueString\": \"12345678\"",
													"                                    }",
													"                                ],",
													"                                \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-AddressKey\"",
													"                            }",
													"                        ],",
													"                        \"id\": \"456\",",
													"                        \"line\": [",
													"                            \"1 Trevelyan Square\",",
													"                            \"Boar Lane\",",
													"                            \"City Centre\",",
													"                            \"Leeds\",",
													"                            \"West Yorkshire\"",
													"                        ],",
													"                        \"period\": {",
													"                            \"end\": \"2021-12-31\",",
													"                            \"start\": \"2020-01-01\"",
													"                        },",
													"                        \"postalCode\": \"LS1 6AE\",",
													"                        \"use\": \"home\"",
													"                    }",
													"                ],",
													"                \"birthDate\": \"2010-10-22\",",
													"                \"contact\": [",
													"                    {",
													"                        \"id\": \"C123\",",
													"                        \"period\": {",
													"                            \"end\": \"2021-12-31\",",
													"                            \"start\": \"2020-01-01\"",
													"                        },",
													"                        \"relationship\": [",
													"                            {",
													"                                \"coding\": [",
													"                                    {",
													"                                        \"code\": \"C\",",
													"                                        \"display\": \"Emergency Contact\",",
													"                                        \"system\": \"http://terminology.hl7.org/CodeSystem/v2-0131\"",
													"                                    }",
													"                                ]",
													"                            }",
													"                        ],",
													"                        \"telecom\": [",
													"                            {",
													"                                \"system\": \"phone\",",
													"                                \"value\": \"01632960587\"",
													"                            }",
													"                        ]",
													"                    }",
													"                ],",
													"                \"deceasedDateTime\": \"2010-10-22T00:00:00+00:00\",",
													"                \"extension\": [",
													"                    {",
													"                        \"extension\": [",
													"                            {",
													"                                \"url\": \"deathNotificationStatus\",",
													"                                \"valueCodeableConcept\": {",
													"                                    \"coding\": [",
													"                                        {",
													"                                            \"code\": \"2\",",
													"                                            \"display\": \"Formal - death notice received from Registrar of Deaths\",",
													"                                            \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-DeathNotificationStatus\",",
													"                                            \"version\": \"1.0.0\"",
													"                                        }",
													"                                    ]",
													"                                }",
													"                            },",
													"                            {",
													"                                \"url\": \"systemEffectiveDate\",",
													"                                \"valueDateTime\": \"2010-10-22T00:00:00+00:00\"",
													"                            }",
													"                        ],",
													"                        \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-DeathNotificationStatus\"",
													"                    }",
													"                ],",
													"                \"gender\": \"female\",",
													"                \"generalPractitioner\": [",
													"                    {",
													"                        \"id\": \"254406A3\",",
													"                        \"identifier\": {",
													"                            \"period\": {",
													"                                \"end\": \"2021-12-31\",",
													"                                \"start\": \"2020-01-01\"",
													"                            },",
													"                            \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",",
													"                            \"value\": \"Y12345\"",
													"                        },",
													"                        \"reference\": \"https://directory.spineservices.nhs.uk/STU3/Organization/Y12345\",",
													"                        \"type\": \"Organization\"",
													"                    }",
													"                ],",
													"                \"id\": \"9000000009\",",
													"                \"identifier\": [",
													"                    {",
													"                        \"extension\": [",
													"                            {",
													"                                \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-NHSNumberVerificationStatus\",",
													"                                \"valueCodeableConcept\": {",
													"                                    \"coding\": [",
													"                                        {",
													"                                            \"code\": \"01\",",
													"                                            \"display\": \"Number present and verified\",",
													"                                            \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-NHSNumberVerificationStatus\",",
													"                                            \"version\": \"1.0.0\"",
													"                                        }",
													"                                    ]",
													"                                }",
													"                            }",
													"                        ],",
													"                        \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",",
													"                        \"value\": \"9000000009\"",
													"                    }",
													"                ],",
													"                \"meta\": {",
													"                    \"security\": [",
													"                        {",
													"                            \"code\": \"U\",",
													"                            \"display\": \"unrestricted\",",
													"                            \"system\": \"https://www.hl7.org/fhir/valueset-security-labels.html\"",
													"                        }",
													"                    ],",
													"                    \"versionId\": \"2\"",
													"                },",
													"                \"multipleBirthInteger\": 1,",
													"                \"name\": [",
													"                    {",
													"                        \"family\": \"Smith\",",
													"                        \"given\": [",
													"                            \"Jane\"",
													"                        ],",
													"                        \"id\": \"123\",",
													"                        \"period\": {",
													"                            \"end\": \"2021-12-31\",",
													"                            \"start\": \"2020-01-01\"",
													"                        },",
													"                        \"prefix\": [",
													"                            \"Mrs\"",
													"                        ],",
													"                        \"suffix\": [",
													"                            \"MBE\"",
													"                        ],",
													"                        \"use\": \"usual\"",
													"                    }",
													"                ],",
													"                \"resourceType\": \"Patient\",",
													"                \"telecom\": [",
													"                    {",
													"                        \"id\": \"789\",",
													"                        \"period\": {",
													"                            \"end\": \"2021-12-31\",",
													"                            \"start\": \"2020-01-01\"",
													"                        },",
													"                        \"system\": \"phone\",",
													"                        \"use\": \"work\",",
													"                        \"value\": \"01632960587\"",
													"                    },",
													"                    {",
													"                        \"extension\": [",
													"                            {",
													"                                \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-OtherContactSystem\",",
													"                                \"valueCoding\": {",
													"                                    \"code\": \"textphone\",",
													"                                    \"display\": \"Minicom (Textphone)\",",
													"                                    \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-OtherContactSystem\"",
													"                                }",
													"                            }",
													"                        ],",
													"                        \"id\": \"OC789\",",
													"                        \"period\": {",
													"                            \"end\": \"2021-12-31\",",
													"                            \"start\": \"2020-01-01\"",
													"                        },",
													"                        \"system\": \"other\",",
													"                        \"use\": \"work\",",
													"                        \"value\": \"01632960587\"",
													"                    }",
													"                ]",
													"            }",
													"        },",
													"        {",
													"            \"fullUrl\": \"https://beta.api.digital.nhs.uk/personal-demographics/Patient/9000000017\",",
													"            \"search\": {",
													"                \"score\": 0.8343",
													"            },",
													"            \"resource\": {",
													"                \"address\": [",
													"                    {",
													"                        \"extension\": [",
													"                            {",
													"                                \"extension\": [",
													"                                    {",
													"                                        \"url\": \"type\",",
													"                                        \"valueCoding\": {",
													"                                            \"code\": \"PAF\",",
													"                                            \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-AddressKeyType\"",
													"                                        }",
													"                                    },",
													"                                    {",
													"                                        \"url\": \"value\",",
													"                                        \"valueString\": \"12345678\"",
													"                                    }",
													"                                ],",
													"                                \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-AddressKey\"",
													"                            }",
													"                        ],",
													"                        \"id\": \"456\",",
													"                        \"line\": [",
													"                            \"1 Trevelyan Square\",",
													"                            \"Boar Lane\",",
													"                            \"City Centre\",",
													"                            \"Leeds\",",
													"                            \"West Yorkshire\"",
													"                        ],",
													"                        \"period\": {",
													"                            \"end\": \"2021-12-31\",",
													"                            \"start\": \"2020-01-01\"",
													"                        },",
													"                        \"postalCode\": \"LS1 6AE\",",
													"                        \"use\": \"home\"",
													"                    }",
													"                ],",
													"                \"birthDate\": \"2010-10-22\",",
													"                \"contact\": [",
													"                    {",
													"                        \"id\": \"C123\",",
													"                        \"period\": {",
													"                            \"end\": \"2021-12-31\",",
													"                            \"start\": \"2020-01-01\"",
													"                        },",
													"                        \"relationship\": [",
													"                            {",
													"                                \"coding\": [",
													"                                    {",
													"                                        \"code\": \"C\",",
													"                                        \"display\": \"Emergency Contact\",",
													"                                        \"system\": \"http://terminology.hl7.org/CodeSystem/v2-0131\"",
													"                                    }",
													"                                ]",
													"                            }",
													"                        ],",
													"                        \"telecom\": [",
													"                            {",
													"                                \"system\": \"phone\",",
													"                                \"value\": \"01632960587\"",
													"                            }",
													"                        ]",
													"                    }",
													"                ],",
													"                \"deceasedDateTime\": \"2010-10-22T00:00:00+00:00\",",
													"                \"extension\": [",
													"                    {",
													"                        \"extension\": [",
													"                            {",
													"                                \"url\": \"deathNotificationStatus\",",
													"                                \"valueCodeableConcept\": {",
													"                                    \"coding\": [",
													"                                        {",
													"                                            \"code\": \"2\",",
													"                                            \"display\": \"Formal - death notice received from Registrar of Deaths\",",
													"                                            \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-DeathNotificationStatus\",",
													"                                            \"version\": \"1.0.0\"",
													"                                        }",
													"                                    ]",
													"                                }",
													"                            },",
													"                            {",
													"                                \"url\": \"systemEffectiveDate\",",
													"                                \"valueDateTime\": \"2010-10-22T00:00:00+00:00\"",
													"                            }",
													"                        ],",
													"                        \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-DeathNotificationStatus\"",
													"                    }",
													"                ],",
													"                \"gender\": \"female\",",
													"                \"generalPractitioner\": [",
													"                    {",
													"                        \"id\": \"254406A3\",",
													"                        \"identifier\": {",
													"                            \"period\": {",
													"                                \"end\": \"2021-12-31\",",
													"                                \"start\": \"2020-01-01\"",
													"                            },",
													"                            \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",",
													"                            \"value\": \"Y12345\"",
													"                        },",
													"                        \"reference\": \"https://directory.spineservices.nhs.uk/STU3/Organization/Y12345\",",
													"                        \"type\": \"Organization\"",
													"                    }",
													"                ],",
													"                \"id\": \"9000000017\",",
													"                \"identifier\": [",
													"                    {",
													"                        \"extension\": [",
													"                            {",
													"                                \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-NHSNumberVerificationStatus\",",
													"                                \"valueCodeableConcept\": {",
													"                                    \"coding\": [",
													"                                        {",
													"                                            \"code\": \"01\",",
													"                                            \"display\": \"Number present and verified\",",
													"                                            \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-NHSNumberVerificationStatus\",",
													"                                            \"version\": \"1.0.0\"",
													"                                        }",
													"                                    ]",
													"                                }",
													"                            }",
													"                        ],",
													"                        \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",",
													"                        \"value\": \"9000000017\"",
													"                    }",
													"                ],",
													"                \"meta\": {",
													"                    \"security\": [",
													"                        {",
													"                            \"code\": \"U\",",
													"                            \"display\": \"unrestricted\",",
													"                            \"system\": \"https://www.hl7.org/fhir/valueset-security-labels.html\"",
													"                        }",
													"                    ],",
													"                    \"versionId\": \"2\"",
													"                },",
													"                \"multipleBirthInteger\": 1,",
													"                \"name\": [",
													"                    {",
													"                        \"family\": \"Smyth\",",
													"                        \"given\": [",
													"                            \"Jayne\"",
													"                        ],",
													"                        \"id\": \"123\",",
													"                        \"period\": {",
													"                            \"end\": \"2021-12-31\",",
													"                            \"start\": \"2020-01-01\"",
													"                        },",
													"                        \"prefix\": [",
													"                            \"Mrs\"",
													"                        ],",
													"                        \"suffix\": [",
													"                            \"MBE\"",
													"                        ],",
													"                        \"use\": \"usual\"",
													"                    }",
													"                ],",
													"                \"resourceType\": \"Patient\",",
													"                \"telecom\": [",
													"                    {",
													"                        \"id\": \"789\",",
													"                        \"period\": {",
													"                            \"end\": \"2021-12-31\",",
													"                            \"start\": \"2020-01-01\"",
													"                        },",
													"                        \"system\": \"phone\",",
													"                        \"use\": \"work\",",
													"                        \"value\": \"01632960587\"",
													"                    },",
													"                    {",
													"                        \"extension\": [",
													"                            {",
													"                                \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-OtherContactSystem\",",
													"                                \"valueCoding\": {",
													"                                    \"code\": \"textphone\",",
													"                                    \"display\": \"Minicom (Textphone)\",",
													"                                    \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-OtherContactSystem\"",
													"                                }",
													"                            }",
													"                        ],",
													"                        \"id\": \"OC789\",",
													"                        \"period\": {",
													"                            \"end\": \"2021-12-31\",",
													"                            \"start\": \"2020-01-01\"",
													"                        },",
													"                        \"system\": \"other\",",
													"                        \"use\": \"work\",",
													"                        \"value\": \"01632960587\"",
													"                    }",
													"                ]",
													"            }",
													"        }",
													"    ]",
													"}",
													"pm.environment.set(\"expected_response\", expected_response);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{environment}}/Patient?family=Sm*&gender=female&birthdate=eq2010-10-22",
											"host": [
												"{{environment}}"
											],
											"path": [
												"Patient"
											],
											"query": [
												{
													"key": "family",
													"value": "Sm*"
												},
												{
													"key": "gender",
													"value": "female"
												},
												{
													"key": "birthdate",
													"value": "eq2010-10-22"
												}
											]
										},
										"description": "HTTP Status 200 with search result of two."
									},
									"response": []
								},
								{
									"name": "Successful advanced search with max-results",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "10b8fee5-1d81-46cd-bda9-921f975cfc13",
												"exec": [
													"pm.test(\"Returns status code 200 OK\", () =>{",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Returns correct canned response\", () =>{",
													"    console.log(\"Expected Response: \" + JSON.stringify(pm.environment.get(\"expected_response\")));",
													"    console.log(\"Actual Response: \" + JSON.stringify(pm.response.json().entry[0]));",
													"    pm.expect(JSON.stringify(pm.response.json().entry[0])).to.eql(JSON.stringify(pm.environment.get(\"expected_response\").entry[0]));",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "c701971b-875c-4cb1-81a8-022a38186e2e",
												"exec": [
													"var expected_response =",
													"{",
													"    \"resourceType\": \"Bundle\",",
													"    \"type\": \"searchset\",",
													"    \"timestamp\": \"2020-06-01T14:22:25+00:00\",",
													"    \"total\": 2,",
													"    \"entry\": [",
													"        {",
													"            \"fullUrl\": \"https://beta.api.digital.nhs.uk/personal-demographics/Patient/9000000009\",",
													"            \"search\": {",
													"                \"score\": 0.8343",
													"            },",
													"            \"resource\": {",
													"                \"address\": [",
													"                    {",
													"                        \"extension\": [",
													"                            {",
													"                                \"extension\": [",
													"                                    {",
													"                                        \"url\": \"type\",",
													"                                        \"valueCoding\": {",
													"                                            \"code\": \"PAF\",",
													"                                            \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-AddressKeyType\"",
													"                                        }",
													"                                    },",
													"                                    {",
													"                                        \"url\": \"value\",",
													"                                        \"valueString\": \"12345678\"",
													"                                    }",
													"                                ],",
													"                                \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-AddressKey\"",
													"                            }",
													"                        ],",
													"                        \"id\": \"456\",",
													"                        \"line\": [",
													"                            \"1 Trevelyan Square\",",
													"                            \"Boar Lane\",",
													"                            \"City Centre\",",
													"                            \"Leeds\",",
													"                            \"West Yorkshire\"",
													"                        ],",
													"                        \"period\": {",
													"                            \"end\": \"2021-12-31\",",
													"                            \"start\": \"2020-01-01\"",
													"                        },",
													"                        \"postalCode\": \"LS1 6AE\",",
													"                        \"use\": \"home\"",
													"                    }",
													"                ],",
													"                \"birthDate\": \"2010-10-22\",",
													"                \"contact\": [",
													"                    {",
													"                        \"id\": \"C123\",",
													"                        \"period\": {",
													"                            \"end\": \"2021-12-31\",",
													"                            \"start\": \"2020-01-01\"",
													"                        },",
													"                        \"relationship\": [",
													"                            {",
													"                                \"coding\": [",
													"                                    {",
													"                                        \"code\": \"C\",",
													"                                        \"display\": \"Emergency Contact\",",
													"                                        \"system\": \"http://terminology.hl7.org/CodeSystem/v2-0131\"",
													"                                    }",
													"                                ]",
													"                            }",
													"                        ],",
													"                        \"telecom\": [",
													"                            {",
													"                                \"system\": \"phone\",",
													"                                \"value\": \"01632960587\"",
													"                            }",
													"                        ]",
													"                    }",
													"                ],",
													"                \"deceasedDateTime\": \"2010-10-22T00:00:00+00:00\",",
													"                \"extension\": [",
													"                    {",
													"                        \"extension\": [",
													"                            {",
													"                                \"url\": \"deathNotificationStatus\",",
													"                                \"valueCodeableConcept\": {",
													"                                    \"coding\": [",
													"                                        {",
													"                                            \"code\": \"2\",",
													"                                            \"display\": \"Formal - death notice received from Registrar of Deaths\",",
													"                                            \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-DeathNotificationStatus\",",
													"                                            \"version\": \"1.0.0\"",
													"                                        }",
													"                                    ]",
													"                                }",
													"                            },",
													"                            {",
													"                                \"url\": \"systemEffectiveDate\",",
													"                                \"valueDateTime\": \"2010-10-22T00:00:00+00:00\"",
													"                            }",
													"                        ],",
													"                        \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-DeathNotificationStatus\"",
													"                    }",
													"                ],",
													"                \"gender\": \"female\",",
													"                \"generalPractitioner\": [",
													"                    {",
													"                        \"id\": \"254406A3\",",
													"                        \"identifier\": {",
													"                            \"period\": {",
													"                                \"end\": \"2021-12-31\",",
													"                                \"start\": \"2020-01-01\"",
													"                            },",
													"                            \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",",
													"                            \"value\": \"Y12345\"",
													"                        },",
													"                        \"reference\": \"https://directory.spineservices.nhs.uk/STU3/Organization/Y12345\",",
													"                        \"type\": \"Organization\"",
													"                    }",
													"                ],",
													"                \"id\": \"9000000009\",",
													"                \"identifier\": [",
													"                    {",
													"                        \"extension\": [",
													"                            {",
													"                                \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-NHSNumberVerificationStatus\",",
													"                                \"valueCodeableConcept\": {",
													"                                    \"coding\": [",
													"                                        {",
													"                                            \"code\": \"01\",",
													"                                            \"display\": \"Number present and verified\",",
													"                                            \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-NHSNumberVerificationStatus\",",
													"                                            \"version\": \"1.0.0\"",
													"                                        }",
													"                                    ]",
													"                                }",
													"                            }",
													"                        ],",
													"                        \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",",
													"                        \"value\": \"9000000009\"",
													"                    }",
													"                ],",
													"                \"meta\": {",
													"                    \"security\": [",
													"                        {",
													"                            \"code\": \"U\",",
													"                            \"display\": \"unrestricted\",",
													"                            \"system\": \"https://www.hl7.org/fhir/valueset-security-labels.html\"",
													"                        }",
													"                    ],",
													"                    \"versionId\": \"2\"",
													"                },",
													"                \"multipleBirthInteger\": 1,",
													"                \"name\": [",
													"                    {",
													"                        \"family\": \"Smith\",",
													"                        \"given\": [",
													"                            \"Jane\"",
													"                        ],",
													"                        \"id\": \"123\",",
													"                        \"period\": {",
													"                            \"end\": \"2021-12-31\",",
													"                            \"start\": \"2020-01-01\"",
													"                        },",
													"                        \"prefix\": [",
													"                            \"Mrs\"",
													"                        ],",
													"                        \"suffix\": [",
													"                            \"MBE\"",
													"                        ],",
													"                        \"use\": \"usual\"",
													"                    }",
													"                ],",
													"                \"resourceType\": \"Patient\",",
													"                \"telecom\": [",
													"                    {",
													"                        \"id\": \"789\",",
													"                        \"period\": {",
													"                            \"end\": \"2021-12-31\",",
													"                            \"start\": \"2020-01-01\"",
													"                        },",
													"                        \"system\": \"phone\",",
													"                        \"use\": \"work\",",
													"                        \"value\": \"01632960587\"",
													"                    },",
													"                    {",
													"                        \"extension\": [",
													"                            {",
													"                                \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-OtherContactSystem\",",
													"                                \"valueCoding\": {",
													"                                    \"code\": \"textphone\",",
													"                                    \"display\": \"Minicom (Textphone)\",",
													"                                    \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-OtherContactSystem\"",
													"                                }",
													"                            }",
													"                        ],",
													"                        \"id\": \"OC789\",",
													"                        \"period\": {",
													"                            \"end\": \"2021-12-31\",",
													"                            \"start\": \"2020-01-01\"",
													"                        },",
													"                        \"system\": \"other\",",
													"                        \"use\": \"work\",",
													"                        \"value\": \"01632960587\"",
													"                    }",
													"                ]",
													"            }",
													"        },",
													"        {",
													"            \"fullUrl\": \"https://beta.api.digital.nhs.uk/personal-demographics/Patient/9000000017\",",
													"            \"search\": {",
													"                \"score\": 0.8343",
													"            },",
													"            \"resource\": {",
													"                \"address\": [",
													"                    {",
													"                        \"extension\": [",
													"                            {",
													"                                \"extension\": [",
													"                                    {",
													"                                        \"url\": \"type\",",
													"                                        \"valueCoding\": {",
													"                                            \"code\": \"PAF\",",
													"                                            \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-AddressKeyType\"",
													"                                        }",
													"                                    },",
													"                                    {",
													"                                        \"url\": \"value\",",
													"                                        \"valueString\": \"12345678\"",
													"                                    }",
													"                                ],",
													"                                \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-AddressKey\"",
													"                            }",
													"                        ],",
													"                        \"id\": \"456\",",
													"                        \"line\": [",
													"                            \"1 Trevelyan Square\",",
													"                            \"Boar Lane\",",
													"                            \"City Centre\",",
													"                            \"Leeds\",",
													"                            \"West Yorkshire\"",
													"                        ],",
													"                        \"period\": {",
													"                            \"end\": \"2021-12-31\",",
													"                            \"start\": \"2020-01-01\"",
													"                        },",
													"                        \"postalCode\": \"LS1 6AE\",",
													"                        \"use\": \"home\"",
													"                    }",
													"                ],",
													"                \"birthDate\": \"2010-10-22\",",
													"                \"contact\": [",
													"                    {",
													"                        \"id\": \"C123\",",
													"                        \"period\": {",
													"                            \"end\": \"2021-12-31\",",
													"                            \"start\": \"2020-01-01\"",
													"                        },",
													"                        \"relationship\": [",
													"                            {",
													"                                \"coding\": [",
													"                                    {",
													"                                        \"code\": \"C\",",
													"                                        \"display\": \"Emergency Contact\",",
													"                                        \"system\": \"http://terminology.hl7.org/CodeSystem/v2-0131\"",
													"                                    }",
													"                                ]",
													"                            }",
													"                        ],",
													"                        \"telecom\": [",
													"                            {",
													"                                \"system\": \"phone\",",
													"                                \"value\": \"01632960587\"",
													"                            }",
													"                        ]",
													"                    }",
													"                ],",
													"                \"deceasedDateTime\": \"2010-10-22T00:00:00+00:00\",",
													"                \"extension\": [",
													"                    {",
													"                        \"extension\": [",
													"                            {",
													"                                \"url\": \"deathNotificationStatus\",",
													"                                \"valueCodeableConcept\": {",
													"                                    \"coding\": [",
													"                                        {",
													"                                            \"code\": \"2\",",
													"                                            \"display\": \"Formal - death notice received from Registrar of Deaths\",",
													"                                            \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-DeathNotificationStatus\",",
													"                                            \"version\": \"1.0.0\"",
													"                                        }",
													"                                    ]",
													"                                }",
													"                            },",
													"                            {",
													"                                \"url\": \"systemEffectiveDate\",",
													"                                \"valueDateTime\": \"2010-10-22T00:00:00+00:00\"",
													"                            }",
													"                        ],",
													"                        \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-DeathNotificationStatus\"",
													"                    }",
													"                ],",
													"                \"gender\": \"female\",",
													"                \"generalPractitioner\": [",
													"                    {",
													"                        \"id\": \"254406A3\",",
													"                        \"identifier\": {",
													"                            \"period\": {",
													"                                \"end\": \"2021-12-31\",",
													"                                \"start\": \"2020-01-01\"",
													"                            },",
													"                            \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",",
													"                            \"value\": \"Y12345\"",
													"                        },",
													"                        \"reference\": \"https://directory.spineservices.nhs.uk/STU3/Organization/Y12345\",",
													"                        \"type\": \"Organization\"",
													"                    }",
													"                ],",
													"                \"id\": \"9000000017\",",
													"                \"identifier\": [",
													"                    {",
													"                        \"extension\": [",
													"                            {",
													"                                \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-NHSNumberVerificationStatus\",",
													"                                \"valueCodeableConcept\": {",
													"                                    \"coding\": [",
													"                                        {",
													"                                            \"code\": \"01\",",
													"                                            \"display\": \"Number present and verified\",",
													"                                            \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-NHSNumberVerificationStatus\",",
													"                                            \"version\": \"1.0.0\"",
													"                                        }",
													"                                    ]",
													"                                }",
													"                            }",
													"                        ],",
													"                        \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",",
													"                        \"value\": \"9000000017\"",
													"                    }",
													"                ],",
													"                \"meta\": {",
													"                    \"security\": [",
													"                        {",
													"                            \"code\": \"U\",",
													"                            \"display\": \"unrestricted\",",
													"                            \"system\": \"https://www.hl7.org/fhir/valueset-security-labels.html\"",
													"                        }",
													"                    ],",
													"                    \"versionId\": \"2\"",
													"                },",
													"                \"multipleBirthInteger\": 1,",
													"                \"name\": [",
													"                    {",
													"                        \"family\": \"Smyth\",",
													"                        \"given\": [",
													"                            \"Jayne\"",
													"                        ],",
													"                        \"id\": \"123\",",
													"                        \"period\": {",
													"                            \"end\": \"2021-12-31\",",
													"                            \"start\": \"2020-01-01\"",
													"                        },",
													"                        \"prefix\": [",
													"                            \"Mrs\"",
													"                        ],",
													"                        \"suffix\": [",
													"                            \"MBE\"",
													"                        ],",
													"                        \"use\": \"usual\"",
													"                    }",
													"                ],",
													"                \"resourceType\": \"Patient\",",
													"                \"telecom\": [",
													"                    {",
													"                        \"id\": \"789\",",
													"                        \"period\": {",
													"                            \"end\": \"2021-12-31\",",
													"                            \"start\": \"2020-01-01\"",
													"                        },",
													"                        \"system\": \"phone\",",
													"                        \"use\": \"work\",",
													"                        \"value\": \"01632960587\"",
													"                    },",
													"                    {",
													"                        \"extension\": [",
													"                            {",
													"                                \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-OtherContactSystem\",",
													"                                \"valueCoding\": {",
													"                                    \"code\": \"textphone\",",
													"                                    \"display\": \"Minicom (Textphone)\",",
													"                                    \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-OtherContactSystem\"",
													"                                }",
													"                            }",
													"                        ],",
													"                        \"id\": \"OC789\",",
													"                        \"period\": {",
													"                            \"end\": \"2021-12-31\",",
													"                            \"start\": \"2020-01-01\"",
													"                        },",
													"                        \"system\": \"other\",",
													"                        \"use\": \"work\",",
													"                        \"value\": \"01632960587\"",
													"                    }",
													"                ]",
													"            }",
													"        }",
													"    ]",
													"}",
													"",
													"pm.environment.set(\"expected_response\", expected_response);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{environment}}/Patient?family=Sm*&gender=female&birthdate=eq2010-10-22&_max-results=2",
											"host": [
												"{{environment}}"
											],
											"path": [
												"Patient"
											],
											"query": [
												{
													"key": "family",
													"value": "Sm*"
												},
												{
													"key": "gender",
													"value": "female"
												},
												{
													"key": "birthdate",
													"value": "eq2010-10-22"
												},
												{
													"key": "_max-results",
													"value": "2"
												}
											]
										},
										"description": "HTTP Status 200 with search result of two."
									},
									"response": []
								},
								{
									"name": "Successful advanced search with data range parameters",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "b7c69fca-49de-4da3-adf2-820cb43d13fa",
												"exec": [
													"pm.test(\"Returns status code 200 OK\", () =>{",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Returns correct canned response\", () =>{",
													"    console.log(\"Expected Response: \" + JSON.stringify(pm.environment.get(\"expected_response\")));",
													"    console.log(\"Actual Response: \" + JSON.stringify(pm.response.json().entry[0]));",
													"    pm.expect(JSON.stringify(pm.response.json().entry[0])).to.eql(JSON.stringify(pm.environment.get(\"expected_response\").entry[0]));",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "c712a7a8-e1fd-4af9-9f58-da5c7d4537ae",
												"exec": [
													"var expected_response =",
													"{",
													"    \"resourceType\": \"Bundle\",",
													"    \"type\": \"searchset\",",
													"    \"timestamp\": \"2020-06-01T14:22:35+00:00\",",
													"    \"total\": 1,",
													"    \"entry\": [",
													"        {",
													"            \"fullUrl\": \"https://beta.api.digital.nhs.uk/personal-demographics/Patient/9000000009\",",
													"            \"search\": {",
													"                \"score\": 1",
													"            },",
													"            \"resource\": {",
													"                \"address\": [",
													"                    {",
													"                        \"extension\": [",
													"                            {",
													"                                \"extension\": [",
													"                                    {",
													"                                        \"url\": \"type\",",
													"                                        \"valueCoding\": {",
													"                                            \"code\": \"PAF\",",
													"                                            \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-AddressKeyType\"",
													"                                        }",
													"                                    },",
													"                                    {",
													"                                        \"url\": \"value\",",
													"                                        \"valueString\": \"12345678\"",
													"                                    }",
													"                                ],",
													"                                \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-AddressKey\"",
													"                            }",
													"                        ],",
													"                        \"id\": \"456\",",
													"                        \"line\": [",
													"                            \"1 Trevelyan Square\",",
													"                            \"Boar Lane\",",
													"                            \"City Centre\",",
													"                            \"Leeds\",",
													"                            \"West Yorkshire\"",
													"                        ],",
													"                        \"period\": {",
													"                            \"end\": \"2021-12-31\",",
													"                            \"start\": \"2020-01-01\"",
													"                        },",
													"                        \"postalCode\": \"LS1 6AE\",",
													"                        \"use\": \"home\"",
													"                    }",
													"                ],",
													"                \"birthDate\": \"2010-10-22\",",
													"                \"contact\": [",
													"                    {",
													"                        \"id\": \"C123\",",
													"                        \"period\": {",
													"                            \"end\": \"2021-12-31\",",
													"                            \"start\": \"2020-01-01\"",
													"                        },",
													"                        \"relationship\": [",
													"                            {",
													"                                \"coding\": [",
													"                                    {",
													"                                        \"code\": \"C\",",
													"                                        \"display\": \"Emergency Contact\",",
													"                                        \"system\": \"http://terminology.hl7.org/CodeSystem/v2-0131\"",
													"                                    }",
													"                                ]",
													"                            }",
													"                        ],",
													"                        \"telecom\": [",
													"                            {",
													"                                \"system\": \"phone\",",
													"                                \"value\": \"01632960587\"",
													"                            }",
													"                        ]",
													"                    }",
													"                ],",
													"                \"deceasedDateTime\": \"2010-10-22T00:00:00+00:00\",",
													"                \"extension\": [",
													"                    {",
													"                        \"extension\": [",
													"                            {",
													"                                \"url\": \"deathNotificationStatus\",",
													"                                \"valueCodeableConcept\": {",
													"                                    \"coding\": [",
													"                                        {",
													"                                            \"code\": \"2\",",
													"                                            \"display\": \"Formal - death notice received from Registrar of Deaths\",",
													"                                            \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-DeathNotificationStatus\",",
													"                                            \"version\": \"1.0.0\"",
													"                                        }",
													"                                    ]",
													"                                }",
													"                            },",
													"                            {",
													"                                \"url\": \"systemEffectiveDate\",",
													"                                \"valueDateTime\": \"2010-10-22T00:00:00+00:00\"",
													"                            }",
													"                        ],",
													"                        \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-DeathNotificationStatus\"",
													"                    }",
													"                ],",
													"                \"gender\": \"female\",",
													"                \"generalPractitioner\": [",
													"                    {",
													"                        \"id\": \"254406A3\",",
													"                        \"identifier\": {",
													"                            \"period\": {",
													"                                \"end\": \"2021-12-31\",",
													"                                \"start\": \"2020-01-01\"",
													"                            },",
													"                            \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",",
													"                            \"value\": \"Y12345\"",
													"                        },",
													"                        \"reference\": \"https://directory.spineservices.nhs.uk/STU3/Organization/Y12345\",",
													"                        \"type\": \"Organization\"",
													"                    }",
													"                ],",
													"                \"id\": \"9000000009\",",
													"                \"identifier\": [",
													"                    {",
													"                        \"extension\": [",
													"                            {",
													"                                \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-NHSNumberVerificationStatus\",",
													"                                \"valueCodeableConcept\": {",
													"                                    \"coding\": [",
													"                                        {",
													"                                            \"code\": \"01\",",
													"                                            \"display\": \"Number present and verified\",",
													"                                            \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-NHSNumberVerificationStatus\",",
													"                                            \"version\": \"1.0.0\"",
													"                                        }",
													"                                    ]",
													"                                }",
													"                            }",
													"                        ],",
													"                        \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",",
													"                        \"value\": \"9000000009\"",
													"                    }",
													"                ],",
													"                \"meta\": {",
													"                    \"security\": [",
													"                        {",
													"                            \"code\": \"U\",",
													"                            \"display\": \"unrestricted\",",
													"                            \"system\": \"https://www.hl7.org/fhir/valueset-security-labels.html\"",
													"                        }",
													"                    ],",
													"                    \"versionId\": \"2\"",
													"                },",
													"                \"multipleBirthInteger\": 1,",
													"                \"name\": [",
													"                    {",
													"                        \"family\": \"Smith\",",
													"                        \"given\": [",
													"                            \"Jane\"",
													"                        ],",
													"                        \"id\": \"123\",",
													"                        \"period\": {",
													"                            \"end\": \"2021-12-31\",",
													"                            \"start\": \"2020-01-01\"",
													"                        },",
													"                        \"prefix\": [",
													"                            \"Mrs\"",
													"                        ],",
													"                        \"suffix\": [",
													"                            \"MBE\"",
													"                        ],",
													"                        \"use\": \"usual\"",
													"                    }",
													"                ],",
													"                \"resourceType\": \"Patient\",",
													"                \"telecom\": [",
													"                    {",
													"                        \"id\": \"789\",",
													"                        \"period\": {",
													"                            \"end\": \"2021-12-31\",",
													"                            \"start\": \"2020-01-01\"",
													"                        },",
													"                        \"system\": \"phone\",",
													"                        \"use\": \"work\",",
													"                        \"value\": \"01632960587\"",
													"                    },",
													"                    {",
													"                        \"extension\": [",
													"                            {",
													"                                \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-OtherContactSystem\",",
													"                                \"valueCoding\": {",
													"                                    \"code\": \"textphone\",",
													"                                    \"display\": \"Minicom (Textphone)\",",
													"                                    \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-OtherContactSystem\"",
													"                                }",
													"                            }",
													"                        ],",
													"                        \"id\": \"OC789\",",
													"                        \"period\": {",
													"                            \"end\": \"2021-12-31\",",
													"                            \"start\": \"2020-01-01\"",
													"                        },",
													"                        \"system\": \"other\",",
													"                        \"use\": \"work\",",
													"                        \"value\": \"01632960587\"",
													"                    }",
													"                ]",
													"            }",
													"        }",
													"    ]",
													"}",
													"",
													"pm.environment.set(\"expected_response\", expected_response);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{environment}}/Patient?family=Smith&gender=female&birthdate=ge2010-10-21&birthdate=le2010-10-23",
											"host": [
												"{{environment}}"
											],
											"path": [
												"Patient"
											],
											"query": [
												{
													"key": "family",
													"value": "Smith"
												},
												{
													"key": "gender",
													"value": "female"
												},
												{
													"key": "birthdate",
													"value": "ge2010-10-21"
												},
												{
													"key": "birthdate",
													"value": "le2010-10-23"
												}
											]
										},
										"description": "HTTP Status 200 with single search result."
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Algorithmic",
							"item": [
								{
									"name": "Successful algorithmic search",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "d43b1d2c-8364-4010-a3c7-c48aad47aedd",
												"exec": [
													"pm.test(\"Returns status code 200 OK\", () =>{",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Returns correct canned response\", () =>{",
													"    console.log(\"Expected Response: \" + JSON.stringify(pm.environment.get(\"expected_response\")));",
													"    console.log(\"Actual Response: \" + JSON.stringify(pm.response.json().entry[0]));",
													"    pm.expect(JSON.stringify(pm.response.json().entry[0])).to.eql(JSON.stringify(pm.environment.get(\"expected_response\").entry[0]));",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "c61331a8-4dbd-47f1-9b2e-b4fef33930e0",
												"exec": [
													"var expected_response =",
													"{",
													"    \"resourceType\": \"Bundle\",",
													"    \"type\": \"searchset\",",
													"    \"timestamp\": \"2020-06-01T14:22:45+00:00\",",
													"    \"total\": 1,",
													"    \"entry\": [",
													"        {",
													"            \"fullUrl\": \"https://beta.api.digital.nhs.uk/personal-demographics/Patient/9000000017\",",
													"            \"search\": {",
													"                \"score\": 0.8976",
													"            },",
													"            \"resource\": {",
													"                \"address\": [",
													"                    {",
													"                        \"extension\": [",
													"                            {",
													"                                \"extension\": [",
													"                                    {",
													"                                        \"url\": \"type\",",
													"                                        \"valueCoding\": {",
													"                                            \"code\": \"PAF\",",
													"                                            \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-AddressKeyType\"",
													"                                        }",
													"                                    },",
													"                                    {",
													"                                        \"url\": \"value\",",
													"                                        \"valueString\": \"12345678\"",
													"                                    }",
													"                                ],",
													"                                \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-AddressKey\"",
													"                            }",
													"                        ],",
													"                        \"id\": \"456\",",
													"                        \"line\": [",
													"                            \"1 Trevelyan Square\",",
													"                            \"Boar Lane\",",
													"                            \"City Centre\",",
													"                            \"Leeds\",",
													"                            \"West Yorkshire\"",
													"                        ],",
													"                        \"period\": {",
													"                            \"end\": \"2021-12-31\",",
													"                            \"start\": \"2020-01-01\"",
													"                        },",
													"                        \"postalCode\": \"LS1 6AE\",",
													"                        \"use\": \"home\"",
													"                    }",
													"                ],",
													"                \"birthDate\": \"2010-10-22\",",
													"                \"contact\": [",
													"                    {",
													"                        \"id\": \"C123\",",
													"                        \"period\": {",
													"                            \"end\": \"2021-12-31\",",
													"                            \"start\": \"2020-01-01\"",
													"                        },",
													"                        \"relationship\": [",
													"                            {",
													"                                \"coding\": [",
													"                                    {",
													"                                        \"code\": \"C\",",
													"                                        \"display\": \"Emergency Contact\",",
													"                                        \"system\": \"http://terminology.hl7.org/CodeSystem/v2-0131\"",
													"                                    }",
													"                                ]",
													"                            }",
													"                        ],",
													"                        \"telecom\": [",
													"                            {",
													"                                \"system\": \"phone\",",
													"                                \"value\": \"01632960587\"",
													"                            }",
													"                        ]",
													"                    }",
													"                ],",
													"                \"deceasedDateTime\": \"2010-10-22T00:00:00+00:00\",",
													"                \"extension\": [",
													"                    {",
													"                        \"extension\": [",
													"                            {",
													"                                \"url\": \"deathNotificationStatus\",",
													"                                \"valueCodeableConcept\": {",
													"                                    \"coding\": [",
													"                                        {",
													"                                            \"code\": \"2\",",
													"                                            \"display\": \"Formal - death notice received from Registrar of Deaths\",",
													"                                            \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-DeathNotificationStatus\",",
													"                                            \"version\": \"1.0.0\"",
													"                                        }",
													"                                    ]",
													"                                }",
													"                            },",
													"                            {",
													"                                \"url\": \"systemEffectiveDate\",",
													"                                \"valueDateTime\": \"2010-10-22T00:00:00+00:00\"",
													"                            }",
													"                        ],",
													"                        \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-DeathNotificationStatus\"",
													"                    }",
													"                ],",
													"                \"gender\": \"female\",",
													"                \"generalPractitioner\": [",
													"                    {",
													"                        \"id\": \"254406A3\",",
													"                        \"identifier\": {",
													"                            \"period\": {",
													"                                \"end\": \"2021-12-31\",",
													"                                \"start\": \"2020-01-01\"",
													"                            },",
													"                            \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",",
													"                            \"value\": \"Y12345\"",
													"                        },",
													"                        \"reference\": \"https://directory.spineservices.nhs.uk/STU3/Organization/Y12345\",",
													"                        \"type\": \"Organization\"",
													"                    }",
													"                ],",
													"                \"id\": \"9000000017\",",
													"                \"identifier\": [",
													"                    {",
													"                        \"extension\": [",
													"                            {",
													"                                \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-NHSNumberVerificationStatus\",",
													"                                \"valueCodeableConcept\": {",
													"                                    \"coding\": [",
													"                                        {",
													"                                            \"code\": \"01\",",
													"                                            \"display\": \"Number present and verified\",",
													"                                            \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-NHSNumberVerificationStatus\",",
													"                                            \"version\": \"1.0.0\"",
													"                                        }",
													"                                    ]",
													"                                }",
													"                            }",
													"                        ],",
													"                        \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",",
													"                        \"value\": \"9000000017\"",
													"                    }",
													"                ],",
													"                \"meta\": {",
													"                    \"security\": [",
													"                        {",
													"                            \"code\": \"U\",",
													"                            \"display\": \"unrestricted\",",
													"                            \"system\": \"https://www.hl7.org/fhir/valueset-security-labels.html\"",
													"                        }",
													"                    ],",
													"                    \"versionId\": \"2\"",
													"                },",
													"                \"multipleBirthInteger\": 1,",
													"                \"name\": [",
													"                    {",
													"                        \"family\": \"Smyth\",",
													"                        \"given\": [",
													"                            \"Jayne\"",
													"                        ],",
													"                        \"id\": \"123\",",
													"                        \"period\": {",
													"                            \"end\": \"2021-12-31\",",
													"                            \"start\": \"2020-01-01\"",
													"                        },",
													"                        \"prefix\": [",
													"                            \"Mrs\"",
													"                        ],",
													"                        \"suffix\": [",
													"                            \"MBE\"",
													"                        ],",
													"                        \"use\": \"usual\"",
													"                    }",
													"                ],",
													"                \"resourceType\": \"Patient\",",
													"                \"telecom\": [",
													"                    {",
													"                        \"id\": \"789\",",
													"                        \"period\": {",
													"                            \"end\": \"2021-12-31\",",
													"                            \"start\": \"2020-01-01\"",
													"                        },",
													"                        \"system\": \"phone\",",
													"                        \"use\": \"work\",",
													"                        \"value\": \"01632960587\"",
													"                    },",
													"                    {",
													"                        \"extension\": [",
													"                            {",
													"                                \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-OtherContactSystem\",",
													"                                \"valueCoding\": {",
													"                                    \"code\": \"textphone\",",
													"                                    \"display\": \"Minicom (Textphone)\",",
													"                                    \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-OtherContactSystem\"",
													"                                }",
													"                            }",
													"                        ],",
													"                        \"id\": \"OC789\",",
													"                        \"period\": {",
													"                            \"end\": \"2021-12-31\",",
													"                            \"start\": \"2020-01-01\"",
													"                        },",
													"                        \"system\": \"other\",",
													"                        \"use\": \"work\",",
													"                        \"value\": \"01632960587\"",
													"                    }",
													"                ]",
													"            }",
													"        }",
													"    ]",
													"}",
													"pm.environment.set(\"expected_response\", expected_response);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{environment}}/Patient?family=smith&given=Jane&gender=female&birthdate=2010-10-22&_fuzzy-match=true",
											"host": [
												"{{environment}}"
											],
											"path": [
												"Patient"
											],
											"query": [
												{
													"key": "family",
													"value": "smith"
												},
												{
													"key": "given",
													"value": "Jane"
												},
												{
													"key": "gender",
													"value": "female"
												},
												{
													"key": "birthdate",
													"value": "2010-10-22"
												},
												{
													"key": "_fuzzy-match",
													"value": "true"
												}
											]
										},
										"description": "HTTP Status 200 with single search result."
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Successful simple search",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "3f7930fe-2991-4873-9263-d3e8eb975c95",
										"exec": [
											"pm.test(\"Returns status code 200 OK\", () =>{",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(\"Returns correct canned response\", () =>{",
											"    console.log(\"Expected Response: \" + JSON.stringify(pm.environment.get(\"expected_response\")));",
											"    console.log(\"Actual Response: \" + JSON.stringify(pm.response.json().entry[0]));",
											"    pm.expect(JSON.stringify(pm.response.json().entry[0])).to.eql(JSON.stringify(pm.environment.get(\"expected_response\").entry[0]));",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "563046cd-24fa-41c8-a6db-5b41862fde25",
										"exec": [
											"var expected_response =",
											"{",
											"    \"resourceType\": \"Bundle\",",
											"    \"type\": \"searchset\",",
											"    \"timestamp\": \"2020-06-01T14:22:57+00:00\",",
											"    \"total\": 1,",
											"    \"entry\": [",
											"        {",
											"            \"fullUrl\": \"https://beta.api.digital.nhs.uk/personal-demographics/Patient/9000000009\",",
											"            \"search\": {",
											"                \"score\": 1",
											"            },",
											"            \"resource\": {",
											"                \"address\": [",
											"                    {",
											"                        \"extension\": [",
											"                            {",
											"                                \"extension\": [",
											"                                    {",
											"                                        \"url\": \"type\",",
											"                                        \"valueCoding\": {",
											"                                            \"code\": \"PAF\",",
											"                                            \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-AddressKeyType\"",
											"                                        }",
											"                                    },",
											"                                    {",
											"                                        \"url\": \"value\",",
											"                                        \"valueString\": \"12345678\"",
											"                                    }",
											"                                ],",
											"                                \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-AddressKey\"",
											"                            }",
											"                        ],",
											"                        \"id\": \"456\",",
											"                        \"line\": [",
											"                            \"1 Trevelyan Square\",",
											"                            \"Boar Lane\",",
											"                            \"City Centre\",",
											"                            \"Leeds\",",
											"                            \"West Yorkshire\"",
											"                        ],",
											"                        \"period\": {",
											"                            \"end\": \"2021-12-31\",",
											"                            \"start\": \"2020-01-01\"",
											"                        },",
											"                        \"postalCode\": \"LS1 6AE\",",
											"                        \"use\": \"home\"",
											"                    }",
											"                ],",
											"                \"birthDate\": \"2010-10-22\",",
											"                \"contact\": [",
											"                    {",
											"                        \"id\": \"C123\",",
											"                        \"period\": {",
											"                            \"end\": \"2021-12-31\",",
											"                            \"start\": \"2020-01-01\"",
											"                        },",
											"                        \"relationship\": [",
											"                            {",
											"                                \"coding\": [",
											"                                    {",
											"                                        \"code\": \"C\",",
											"                                        \"display\": \"Emergency Contact\",",
											"                                        \"system\": \"http://terminology.hl7.org/CodeSystem/v2-0131\"",
											"                                    }",
											"                                ]",
											"                            }",
											"                        ],",
											"                        \"telecom\": [",
											"                            {",
											"                                \"system\": \"phone\",",
											"                                \"value\": \"01632960587\"",
											"                            }",
											"                        ]",
											"                    }",
											"                ],",
											"                \"deceasedDateTime\": \"2010-10-22T00:00:00+00:00\",",
											"                \"extension\": [",
											"                    {",
											"                        \"extension\": [",
											"                            {",
											"                                \"url\": \"deathNotificationStatus\",",
											"                                \"valueCodeableConcept\": {",
											"                                    \"coding\": [",
											"                                        {",
											"                                            \"code\": \"2\",",
											"                                            \"display\": \"Formal - death notice received from Registrar of Deaths\",",
											"                                            \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-DeathNotificationStatus\",",
											"                                            \"version\": \"1.0.0\"",
											"                                        }",
											"                                    ]",
											"                                }",
											"                            },",
											"                            {",
											"                                \"url\": \"systemEffectiveDate\",",
											"                                \"valueDateTime\": \"2010-10-22T00:00:00+00:00\"",
											"                            }",
											"                        ],",
											"                        \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-DeathNotificationStatus\"",
											"                    }",
											"                ],",
											"                \"gender\": \"female\",",
											"                \"generalPractitioner\": [",
											"                    {",
											"                        \"id\": \"254406A3\",",
											"                        \"identifier\": {",
											"                            \"period\": {",
											"                                \"end\": \"2021-12-31\",",
											"                                \"start\": \"2020-01-01\"",
											"                            },",
											"                            \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",",
											"                            \"value\": \"Y12345\"",
											"                        },",
											"                        \"reference\": \"https://directory.spineservices.nhs.uk/STU3/Organization/Y12345\",",
											"                        \"type\": \"Organization\"",
											"                    }",
											"                ],",
											"                \"id\": \"9000000009\",",
											"                \"identifier\": [",
											"                    {",
											"                        \"extension\": [",
											"                            {",
											"                                \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-NHSNumberVerificationStatus\",",
											"                                \"valueCodeableConcept\": {",
											"                                    \"coding\": [",
											"                                        {",
											"                                            \"code\": \"01\",",
											"                                            \"display\": \"Number present and verified\",",
											"                                            \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-NHSNumberVerificationStatus\",",
											"                                            \"version\": \"1.0.0\"",
											"                                        }",
											"                                    ]",
											"                                }",
											"                            }",
											"                        ],",
											"                        \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",",
											"                        \"value\": \"9000000009\"",
											"                    }",
											"                ],",
											"                \"meta\": {",
											"                    \"security\": [",
											"                        {",
											"                            \"code\": \"U\",",
											"                            \"display\": \"unrestricted\",",
											"                            \"system\": \"https://www.hl7.org/fhir/valueset-security-labels.html\"",
											"                        }",
											"                    ],",
											"                    \"versionId\": \"2\"",
											"                },",
											"                \"multipleBirthInteger\": 1,",
											"                \"name\": [",
											"                    {",
											"                        \"family\": \"Smith\",",
											"                        \"given\": [",
											"                            \"Jane\"",
											"                        ],",
											"                        \"id\": \"123\",",
											"                        \"period\": {",
											"                            \"end\": \"2021-12-31\",",
											"                            \"start\": \"2020-01-01\"",
											"                        },",
											"                        \"prefix\": [",
											"                            \"Mrs\"",
											"                        ],",
											"                        \"suffix\": [",
											"                            \"MBE\"",
											"                        ],",
											"                        \"use\": \"usual\"",
											"                    }",
											"                ],",
											"                \"resourceType\": \"Patient\",",
											"                \"telecom\": [",
											"                    {",
											"                        \"id\": \"789\",",
											"                        \"period\": {",
											"                            \"end\": \"2021-12-31\",",
											"                            \"start\": \"2020-01-01\"",
											"                        },",
											"                        \"system\": \"phone\",",
											"                        \"use\": \"work\",",
											"                        \"value\": \"01632960587\"",
											"                    },",
											"                    {",
											"                        \"extension\": [",
											"                            {",
											"                                \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-OtherContactSystem\",",
											"                                \"valueCoding\": {",
											"                                    \"code\": \"textphone\",",
											"                                    \"display\": \"Minicom (Textphone)\",",
											"                                    \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-OtherContactSystem\"",
											"                                }",
											"                            }",
											"                        ],",
											"                        \"id\": \"OC789\",",
											"                        \"period\": {",
											"                            \"end\": \"2021-12-31\",",
											"                            \"start\": \"2020-01-01\"",
											"                        },",
											"                        \"system\": \"other\",",
											"                        \"use\": \"work\",",
											"                        \"value\": \"01632960587\"",
											"                    }",
											"                ]",
											"            }",
											"        }",
											"    ]",
											"}",
											"",
											"pm.environment.set(\"expected_response\", expected_response);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{environment}}/Patient?family=Smith&gender=female&birthdate=eq2010-10-22",
									"host": [
										"{{environment}}"
									],
									"path": [
										"Patient"
									],
									"query": [
										{
											"key": "family",
											"value": "Smith"
										},
										{
											"key": "gender",
											"value": "female"
										},
										{
											"key": "birthdate",
											"value": "eq2010-10-22"
										}
									]
								},
								"description": "Example of a simple search returning a single result"
							},
							"response": []
						},
						{
							"name": "Successful sensitive search",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "3c60d71e-251c-44a6-854d-2fa60299eaee",
										"exec": [
											"pm.test(\"Returns status code 200 OK\", () =>{",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(\"Returns correct canned response\", () =>{",
											"    console.log(\"Expected Response: \" + JSON.stringify(pm.environment.get(\"expected_response\")));",
											"    console.log(\"Actual Response: \" + JSON.stringify(pm.response.json().entry[0]));",
											"    pm.expect(JSON.stringify(pm.response.json().entry[0])).to.eql(JSON.stringify(pm.environment.get(\"expected_response\").entry[0]));",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "132665e9-5bb3-40a9-84ea-47ffb2641e90",
										"exec": [
											"var expected_response =",
											"{",
											"    \"resourceType\": \"Bundle\",",
											"    \"type\": \"searchset\",",
											"    \"timestamp\": \"2020-05-27T11:30:18+00:00\",",
											"    \"total\": 1,",
											"    \"entry\": [",
											"        {",
											"            \"fullUrl\": \"https://beta.api.digital.nhs.uk/personal-demographics/Patient/9000000025\",",
											"            \"search\": {",
											"                \"score\": 1",
											"            },",
											"            \"resource\": {",
											"                \"birthDate\": \"2005-06-16\",",
											"                \"deceasedDateTime\": \"2005-06-16T00:00:00+00:00\",",
											"                \"extension\": [",
											"                    {",
											"                        \"extension\": [",
											"                            {",
											"                                \"url\": \"deathNotificationStatus\",",
											"                                \"valueCodeableConcept\": {",
											"                                    \"coding\": [",
											"                                        {",
											"                                            \"code\": \"2\",",
											"                                            \"display\": \"Formal - death notice received from Registrar of Deaths\",",
											"                                            \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-DeathNotificationStatus\",",
											"                                            \"version\": \"1.0.0\"",
											"                                        }",
											"                                    ]",
											"                                }",
											"                            },",
											"                            {",
											"                                \"url\": \"systemEffectiveDate\",",
											"                                \"valueDateTime\": \"2005-06-16T00:00:00+00:00\"",
											"                            }",
											"                        ],",
											"                        \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-DeathNotificationStatus\"",
											"                    }",
											"                ],",
											"                \"gender\": \"female\",",
											"                \"id\": \"9000000025\",",
											"                \"identifier\": [",
											"                    {",
											"                        \"extension\": [",
											"                            {",
											"                                \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-NHSNumberVerificationStatus\",",
											"                                \"valueCodeableConcept\": {",
											"                                    \"coding\": [",
											"                                        {",
											"                                            \"code\": \"01\",",
											"                                            \"display\": \"Number present and verified\",",
											"                                            \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-NHSNumberVerificationStatus\",",
											"                                            \"version\": \"1.0.0\"",
											"                                        }",
											"                                    ]",
											"                                }",
											"                            }",
											"                        ],",
											"                        \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",",
											"                        \"value\": \"9000000025\"",
											"                    }",
											"                ],",
											"                \"meta\": {",
											"                    \"security\": [",
											"                        {",
											"                            \"code\": \"R\",",
											"                            \"display\": \"restricted\",",
											"                            \"system\": \"https://www.hl7.org/fhir/valueset-security-labels.html\"",
											"                        }",
											"                    ],",
											"                    \"versionId\": \"2\"",
											"                },",
											"                \"multipleBirthInteger\": 1,",
											"                \"name\": [",
											"                    {",
											"                        \"family\": \"Smythe\",",
											"                        \"given\": [",
											"                            \"Janet\"",
											"                        ],",
											"                        \"id\": \"123\",",
											"                        \"period\": {",
											"                            \"end\": \"2021-12-31\",",
											"                            \"start\": \"2020-01-01\"",
											"                        },",
											"                        \"prefix\": [",
											"                            \"Mrs\"",
											"                        ],",
											"                        \"suffix\": [",
											"                            \"MBE\"",
											"                        ],",
											"                        \"use\": \"usual\"",
											"                    }",
											"                ],",
											"                \"resourceType\": \"Patient\"",
											"            }",
											"        }",
											"    ]",
											"}",
											"",
											"pm.environment.set(\"expected_response\", expected_response);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{environment}}/Patient?family=Smythe&given=Janet&gender=female&birthdate=eq2005-06-16",
									"host": [
										"{{environment}}"
									],
									"path": [
										"Patient"
									],
									"query": [
										{
											"key": "family",
											"value": "Smythe"
										},
										{
											"key": "given",
											"value": "Janet"
										},
										{
											"key": "gender",
											"value": "female"
										},
										{
											"key": "birthdate",
											"value": "eq2005-06-16"
										}
									]
								},
								"description": "Example of a simple search returning a single result"
							},
							"response": []
						},
						{
							"name": "Unsuccessful simple search",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "b1b32c99-095b-4c1c-bba4-6168d0246dff",
										"exec": [
											"pm.test(\"Returns status code 200 OK\", () =>{",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(\"Returns 0 search results\", () =>{",
											"    pm.expect(pm.response.json().total).to.eql(0);",
											"});",
											"",
											"pm.test(\"Returns no entry field\", () =>{",
											"    pm.expect(pm.response.json().entry).to.eql(undefined);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{environment}}/Patient?family=Bingham&given=John&gender=male&birthdate=eq1934-12-18",
									"host": [
										"{{environment}}"
									],
									"path": [
										"Patient"
									],
									"query": [
										{
											"key": "family",
											"value": "Bingham"
										},
										{
											"key": "given",
											"value": "John"
										},
										{
											"key": "gender",
											"value": "male"
										},
										{
											"key": "birthdate",
											"value": "eq1934-12-18"
										}
									]
								},
								"description": "Example of a search that is valid, but returns no results"
							},
							"response": []
						},
						{
							"name": "Invalid birth date format",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "247568e3-f492-4826-9bb1-4f8237c7cf8d",
										"exec": [
											"var response = pm.response.json();",
											"",
											"pm.test(\"Returns status code 400 Bad Request\", () =>{",
											"    pm.response.to.have.status(400);",
											"});",
											"",
											"pm.test(\"Returns correct canned response\", () =>{",
											"    pm.expect(JSON.stringify(response)).to.eql(JSON.stringify({",
											"    \"resourceType\": \"OperationOutcome\",",
											"    \"issue\": [",
											"        {",
											"            \"severity\": \"error\",",
											"            \"code\": \"value\",",
											"            \"details\": {",
											"                \"coding\": [",
											"                    {",
											"                        \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/Spine-ErrorOrWarningCode\",",
											"                        \"version\": \"1\",",
											"                        \"code\": \"INVALID_SEARCH_DATA\",",
											"                        \"display\": \"Search data is invalid\"",
											"                    }",
											"                ]",
											"            },",
											"            \"diagnostics\": \"Invalid value - '20101022' in field 'birthdate'\"",
											"        }",
											"    ]",
											"}));",
											"})"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{environment}}/Patient?family=Smith&given=Jane&gender=female&birthdate=20101022",
									"host": [
										"{{environment}}"
									],
									"path": [
										"Patient"
									],
									"query": [
										{
											"key": "family",
											"value": "Smith"
										},
										{
											"key": "given",
											"value": "Jane"
										},
										{
											"key": "gender",
											"value": "female"
										},
										{
											"key": "birthdate",
											"value": "20101022"
										}
									]
								},
								"description": "Example error caused by providing `birthdate` query param in an invalid format"
							},
							"response": []
						},
						{
							"name": "Invalid death date format",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "34ec9975-fe78-40dc-8424-efef3623b5d8",
										"exec": [
											"var response = pm.response.json();",
											"",
											"pm.test(\"Returns status code 400 Bad Request\", () =>{",
											"    pm.response.to.have.status(400);",
											"});",
											"",
											"pm.test(\"Returns correct canned response\", () =>{",
											"    pm.expect(JSON.stringify(response)).to.eql(JSON.stringify({",
											"    \"resourceType\": \"OperationOutcome\",",
											"    \"issue\": [",
											"        {",
											"            \"severity\": \"error\",",
											"            \"code\": \"value\",",
											"            \"details\": {",
											"                \"coding\": [",
											"                    {",
											"                        \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/Spine-ErrorOrWarningCode\",",
											"                        \"version\": \"1\",",
											"                        \"code\": \"INVALID_SEARCH_DATA\",",
											"                        \"display\": \"Search data is invalid\"",
											"                    }",
											"                ]",
											"            },",
											"            \"diagnostics\": \"Invalid value - '20101022' in field 'death-date'\"",
											"        }",
											"    ]",
											"}));",
											"})"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{environment}}/Patient?family=Smith&given=Jane&gender=female&death-date=20101022",
									"host": [
										"{{environment}}"
									],
									"path": [
										"Patient"
									],
									"query": [
										{
											"key": "family",
											"value": "Smith"
										},
										{
											"key": "given",
											"value": "Jane"
										},
										{
											"key": "gender",
											"value": "female"
										},
										{
											"key": "death-date",
											"value": "20101022"
										}
									]
								},
								"description": "Example error caused by providing `birthdate` query param in an invalid format"
							},
							"response": []
						},
						{
							"name": "Too few search parameters",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "2e892694-7edd-48eb-8e1f-0799d21ee1a3",
										"exec": [
											"var response = pm.response.json();",
											"",
											"pm.test(\"Returns status code 400 Bad Request\", () =>{",
											"    pm.response.to.have.status(400);",
											"});",
											"",
											"pm.test(\"Returns correct canned response\", () =>{",
											"    pm.expect(JSON.stringify(response)).to.eql(JSON.stringify({",
											"    \"resourceType\": \"OperationOutcome\",",
											"    \"issue\": [",
											"        {",
											"            \"severity\": \"error\",",
											"            \"code\": \"required\",",
											"            \"details\": {",
											"                \"coding\": [",
											"                    {",
											"                        \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/Spine-ErrorOrWarningCode\",",
											"                        \"version\": \"1\",",
											"                        \"code\": \"MISSING_VALUE\",",
											"                        \"display\": \"Required value is missing\"",
											"                    }",
											"                ]",
											"            },",
											"            \"diagnostics\": \"Not enough search parameters were provided to be able to make a search\"",
											"        }",
											"    ]",
											"}));",
											"})"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{environment}}/Patient",
									"host": [
										"{{environment}}"
									],
									"path": [
										"Patient"
									]
								},
								"description": "Example error caused by providing too few (none in this instance) search parameters"
							},
							"response": []
						},
						{
							"name": "Sensitive Patient Search",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "dafdab1b-befd-428e-aa0c-84d7ad59a836",
										"exec": [
											"pm.test(\"Returns status code 200 OK\", () =>{",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(\"Returns correct canned response\", () =>{",
											"    let expectedResp = JSON.stringify(pm.environment.get(\"expected_response\").entry[0]);",
											"    let actualResp = JSON.stringify(pm.response.json().entry[0]);",
											"    console.log(\"Expected Response:\", expectedResp);",
											"    console.log(\"Actual Response: \", actualResp);",
											"    pm.expect(expectedResp).to.eql(actualResp);",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "fd841961-ce88-45df-99b1-883578b338c2",
										"exec": [
											"var expected_response =",
											"{",
											"    \"resourceType\": \"Bundle\",",
											"    \"type\": \"searchset\",",
											"    \"timestamp\": \"2020-05-27T11:31:08+00:00\",",
											"    \"total\": 1,",
											"    \"entry\": [",
											"        {",
											"            \"fullUrl\": \"https://beta.api.digital.nhs.uk/personal-demographics/Patient/9000000025\",",
											"            \"search\": {",
											"                \"score\": 1",
											"            },",
											"            \"resource\": {",
											"                \"birthDate\": \"2005-06-16\",",
											"                \"deceasedDateTime\": \"2005-06-16T00:00:00+00:00\",",
											"                \"extension\": [",
											"                    {",
											"                        \"extension\": [",
											"                            {",
											"                                \"url\": \"deathNotificationStatus\",",
											"                                \"valueCodeableConcept\": {",
											"                                    \"coding\": [",
											"                                        {",
											"                                            \"code\": \"2\",",
											"                                            \"display\": \"Formal - death notice received from Registrar of Deaths\",",
											"                                            \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-DeathNotificationStatus\",",
											"                                            \"version\": \"1.0.0\"",
											"                                        }",
											"                                    ]",
											"                                }",
											"                            },",
											"                            {",
											"                                \"url\": \"systemEffectiveDate\",",
											"                                \"valueDateTime\": \"2005-06-16T00:00:00+00:00\"",
											"                            }",
											"                        ],",
											"                        \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-DeathNotificationStatus\"",
											"                    }",
											"                ],",
											"                \"gender\": \"female\",",
											"                \"id\": \"9000000025\",",
											"                \"identifier\": [",
											"                    {",
											"                        \"extension\": [",
											"                            {",
											"                                \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-NHSNumberVerificationStatus\",",
											"                                \"valueCodeableConcept\": {",
											"                                    \"coding\": [",
											"                                        {",
											"                                            \"code\": \"01\",",
											"                                            \"display\": \"Number present and verified\",",
											"                                            \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-NHSNumberVerificationStatus\",",
											"                                            \"version\": \"1.0.0\"",
											"                                        }",
											"                                    ]",
											"                                }",
											"                            }",
											"                        ],",
											"                        \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",",
											"                        \"value\": \"9000000025\"",
											"                    }",
											"                ],",
											"                \"meta\": {",
											"                    \"security\": [",
											"                        {",
											"                            \"code\": \"R\",",
											"                            \"display\": \"restricted\",",
											"                            \"system\": \"https://www.hl7.org/fhir/valueset-security-labels.html\"",
											"                        }",
											"                    ],",
											"                    \"versionId\": \"2\"",
											"                },",
											"                \"multipleBirthInteger\": 1,",
											"                \"name\": [",
											"                    {",
											"                        \"family\": \"Smythe\",",
											"                        \"given\": [",
											"                            \"Janet\"",
											"                        ],",
											"                        \"id\": \"123\",",
											"                        \"period\": {",
											"                            \"end\": \"2021-12-31\",",
											"                            \"start\": \"2020-01-01\"",
											"                        },",
											"                        \"prefix\": [",
											"                            \"Mrs\"",
											"                        ],",
											"                        \"suffix\": [",
											"                            \"MBE\"",
											"                        ],",
											"                        \"use\": \"usual\"",
											"                    }",
											"                ],",
											"                \"resourceType\": \"Patient\"",
											"            }",
											"        }",
											"    ]",
											"}",
											"",
											"pm.environment.set(\"expected_response\", expected_response);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{environment}}/Patient?family=Smythe&gender=female&given=Janet&birthdate=eq2005-06-16",
									"host": [
										"{{environment}}"
									],
									"path": [
										"Patient"
									],
									"query": [
										{
											"key": "family",
											"value": "Smythe"
										},
										{
											"key": "gender",
											"value": "female"
										},
										{
											"key": "given",
											"value": "Janet"
										},
										{
											"key": "birthdate",
											"value": "eq2005-06-16"
										}
									]
								},
								"description": "Example of a simple search returning a single result"
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Retrieve",
					"item": [
						{
							"name": "Retrieve: Patient Exists",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "3d3c90a9-fef8-4e9c-92fb-c85ba2fe1ad3",
										"exec": [
											"var response = pm.response.json();",
											"    ",
											"",
											"pm.test(\"Returns status code 200 OK\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(\"Returns correct etag header\", function () {",
											"    pm.response.to.have.header(\"etag\", \"W/\\\"2\\\"\");",
											"});",
											"",
											"pm.test(\"Returns correct canned response\", () =>{",
											"    var expected = JSON.stringify(pm.environment.get(\"expected_response\"));",
											"    var actual = JSON.stringify(response);",
											"    pm.expect(actual).to.eql(expected);",
											"});",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "d482b458-b002-4331-bf93-58f6bb3b3f9b",
										"exec": [
											"var expected_response =",
											"{",
											"    \"address\": [",
											"        {",
											"            \"extension\": [",
											"                {",
											"                    \"extension\": [",
											"                        {",
											"                            \"url\": \"type\",",
											"                            \"valueCoding\": {",
											"                                \"code\": \"PAF\",",
											"                                \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-AddressKeyType\"",
											"                            }",
											"                        },",
											"                        {",
											"                            \"url\": \"value\",",
											"                            \"valueString\": \"12345678\"",
											"                        }",
											"                    ],",
											"                    \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-AddressKey\"",
											"                }",
											"            ],",
											"            \"id\": \"456\",",
											"            \"line\": [",
											"                \"1 Trevelyan Square\",",
											"                \"Boar Lane\",",
											"                \"City Centre\",",
											"                \"Leeds\",",
											"                \"West Yorkshire\"",
											"            ],",
											"            \"period\": {",
											"                \"end\": \"2021-12-31\",",
											"                \"start\": \"2020-01-01\"",
											"            },",
											"            \"postalCode\": \"LS1 6AE\",",
											"            \"use\": \"home\"",
											"        },",
											"        {",
											"            \"extension\": [",
											"                {",
											"                    \"extension\": [",
											"                        {",
											"                            \"url\": \"type\",",
											"                            \"valueCoding\": {",
											"                                \"code\": \"PAF\",",
											"                                \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-AddressKeyType\"",
											"                            }",
											"                        },",
											"                        {",
											"                            \"url\": \"value\",",
											"                            \"valueString\": \"12345678\"",
											"                        }",
											"                    ],",
											"                    \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-AddressKey\"",
											"                }",
											"            ],",
											"            \"id\": \"T456\",",
											"            \"line\": [",
											"                \"1 Trevelyan Square\",",
											"                \"Boar Lane\",",
											"                \"City Centre\",",
											"                \"Leeds\",",
											"                \"West Yorkshire\"",
											"            ],",
											"            \"period\": {",
											"                \"end\": \"2021-12-31\",",
											"                \"start\": \"2020-01-01\"",
											"            },",
											"            \"postalCode\": \"LS1 6AE\",",
											"            \"text\": \"Student Accommodation\",",
											"            \"use\": \"temp\"",
											"        }",
											"    ],",
											"    \"birthDate\": \"2010-10-22\",",
											"    \"contact\": [",
											"        {",
											"            \"id\": \"C123\",",
											"            \"period\": {",
											"                \"end\": \"2021-12-31\",",
											"                \"start\": \"2020-01-01\"",
											"            },",
											"            \"relationship\": [",
											"                {",
											"                    \"coding\": [",
											"                        {",
											"                            \"code\": \"C\",",
											"                            \"display\": \"Emergency Contact\",",
											"                            \"system\": \"http://terminology.hl7.org/CodeSystem/v2-0131\"",
											"                        }",
											"                    ]",
											"                }",
											"            ],",
											"            \"telecom\": [",
											"                {",
											"                    \"system\": \"phone\",",
											"                    \"value\": \"01632960587\"",
											"                }",
											"            ]",
											"        }",
											"    ],",
											"    \"deceasedDateTime\": \"2010-10-22T00:00:00+00:00\",",
											"    \"extension\": [",
											"        {",
											"            \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-NominatedPharmacy\",",
											"            \"valueReference\": {",
											"                \"identifier\": {",
											"                    \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",",
											"                    \"value\": \"Y12345\"",
											"                },",
											"                \"reference\": \"https://directory.spineservices.nhs.uk/STU3/Organization/Y12345\"",
											"            }",
											"        },",
											"        {",
											"            \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-PreferredDispenserOrganization\",",
											"            \"valueReference\": {",
											"                \"identifier\": {",
											"                    \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",",
											"                    \"value\": \"Y23456\"",
											"                },",
											"                \"reference\": \"https://directory.spineservices.nhs.uk/STU3/Organization/Y23456\"",
											"            }",
											"        },",
											"        {",
											"            \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-MedicalApplianceSupplier\",",
											"            \"valueReference\": {",
											"                \"identifier\": {",
											"                    \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",",
											"                    \"value\": \"Y34567\"",
											"                },",
											"                \"reference\": \"https://directory.spineservices.nhs.uk/STU3/Organization/Y34567\"",
											"            }",
											"        },",
											"        {",
											"            \"extension\": [",
											"                {",
											"                    \"url\": \"deathNotificationStatus\",",
											"                    \"valueCodeableConcept\": {",
											"                        \"coding\": [",
											"                            {",
											"                                \"code\": \"2\",",
											"                                \"display\": \"Formal - death notice received from Registrar of Deaths\",",
											"                                \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-DeathNotificationStatus\",",
											"                                \"version\": \"1.0.0\"",
											"                            }",
											"                        ]",
											"                    }",
											"                },",
											"                {",
											"                    \"url\": \"systemEffectiveDate\",",
											"                    \"valueDateTime\": \"2010-10-22T00:00:00+00:00\"",
											"                }",
											"            ],",
											"            \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-DeathNotificationStatus\"",
											"        },",
											"        {",
											"            \"extension\": [",
											"                {",
											"                    \"url\": \"language\",",
											"                    \"valueCodeableConcept\": {",
											"                        \"coding\": [",
											"                            {",
											"                                \"code\": \"fr\",",
											"                                \"display\": \"French\",",
											"                                \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-HumanLanguage\",",
											"                                \"version\": \"1.0.0\"",
											"                            }",
											"                        ]",
											"                    }",
											"                },",
											"                {",
											"                    \"url\": \"interpreterRequired\",",
											"                    \"valueBoolean\": true",
											"                }",
											"            ],",
											"            \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-NHSCommunication\"",
											"        },",
											"        {",
											"            \"extension\": [",
											"                {",
											"                    \"url\": \"PreferredWrittenCommunicationFormat\",",
											"                    \"valueCodeableConcept\": {",
											"                        \"coding\": [",
											"                            {",
											"                                \"code\": \"12\",",
											"                                \"display\": \"Braille\",",
											"                                \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-PreferredWrittenCommunicationFormat\"",
											"                            }",
											"                        ]",
											"                    }",
											"                },",
											"                {",
											"                    \"url\": \"PreferredContactMethod\",",
											"                    \"valueCodeableConcept\": {",
											"                        \"coding\": [",
											"                            {",
											"                                \"code\": \"1\",",
											"                                \"display\": \"Letter\",",
											"                                \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-PreferredContactMethod\"",
											"                            }",
											"                        ]",
											"                    }",
											"                },",
											"                {",
											"                    \"url\": \"PreferredContactTimes\",",
											"                    \"valueString\": \"Not after 7pm\"",
											"                }",
											"            ],",
											"            \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-ContactPreference\"",
											"        },",
											"        {",
											"            \"url\": \"http://hl7.org/fhir/StructureDefinition/patient-birthPlace\",",
											"            \"valueAddress\": {",
											"                \"city\": \"Manchester\",",
											"                \"country\": \"GBR\",",
											"                \"district\": \"Greater Manchester\"",
											"            }",
											"        }",
											"    ],",
											"    \"gender\": \"female\",",
											"    \"generalPractitioner\": [",
											"        {",
											"            \"id\": \"254406A3\",",
											"            \"identifier\": {",
											"                \"period\": {",
											"                    \"end\": \"2021-12-31\",",
											"                    \"start\": \"2020-01-01\"",
											"                },",
											"                \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",",
											"                \"value\": \"Y12345\"",
											"            },",
											"            \"reference\": \"https://directory.spineservices.nhs.uk/STU3/Organization/Y12345\",",
											"            \"type\": \"Organization\"",
											"        }",
											"    ],",
											"    \"id\": \"9000000009\",",
											"    \"identifier\": [",
											"        {",
											"            \"extension\": [",
											"                {",
											"                    \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-NHSNumberVerificationStatus\",",
											"                    \"valueCodeableConcept\": {",
											"                        \"coding\": [",
											"                            {",
											"                                \"code\": \"01\",",
											"                                \"display\": \"Number present and verified\",",
											"                                \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-NHSNumberVerificationStatus\",",
											"                                \"version\": \"1.0.0\"",
											"                            }",
											"                        ]",
											"                    }",
											"                }",
											"            ],",
											"            \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",",
											"            \"value\": \"9000000009\"",
											"        }",
											"    ],",
											"    \"meta\": {",
											"        \"security\": [",
											"            {",
											"                \"code\": \"U\",",
											"                \"display\": \"unrestricted\",",
											"                \"system\": \"https://www.hl7.org/fhir/valueset-security-labels.html\"",
											"            }",
											"        ],",
											"        \"versionId\": \"2\"",
											"    },",
											"    \"multipleBirthInteger\": 1,",
											"    \"name\": [",
											"        {",
											"            \"family\": \"Smith\",",
											"            \"given\": [",
											"                \"Jane\"",
											"            ],",
											"            \"id\": \"123\",",
											"            \"period\": {",
											"                \"end\": \"2021-12-31\",",
											"                \"start\": \"2020-01-01\"",
											"            },",
											"            \"prefix\": [",
											"                \"Mrs\"",
											"            ],",
											"            \"suffix\": [",
											"                \"MBE\"",
											"            ],",
											"            \"use\": \"usual\"",
											"        }",
											"    ],",
											"    \"resourceType\": \"Patient\",",
											"    \"telecom\": [",
											"        {",
											"            \"id\": \"789\",",
											"            \"period\": {",
											"                \"end\": \"2021-12-31\",",
											"                \"start\": \"2020-01-01\"",
											"            },",
											"            \"system\": \"phone\",",
											"            \"use\": \"work\",",
											"            \"value\": \"01632960587\"",
											"        },",
											"        {",
											"            \"extension\": [",
											"                {",
											"                    \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-OtherContactSystem\",",
											"                    \"valueCoding\": {",
											"                        \"code\": \"textphone\",",
											"                        \"display\": \"Minicom (Textphone)\",",
											"                        \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-OtherContactSystem\"",
											"                    }",
											"                }",
											"            ],",
											"            \"id\": \"OC789\",",
											"            \"period\": {",
											"                \"end\": \"2021-12-31\",",
											"                \"start\": \"2020-01-01\"",
											"            },",
											"            \"system\": \"other\",",
											"            \"use\": \"work\",",
											"            \"value\": \"01632960587\"",
											"        }",
											"    ]",
											"}",
											"",
											"pm.environment.set(\"expected_response\", expected_response);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{environment}}/Patient/9000000009",
									"host": [
										"{{environment}}"
									],
									"path": [
										"Patient",
										"9000000009"
									]
								},
								"description": "GIVEN I have a valid NHS Number\nWHEN I call the simple search query\nTHEN I should get the patients details"
							},
							"response": []
						},
						{
							"name": "Retrieve: Sensitive Patient Exists",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "5bdd788a-4929-4b3f-8956-adf356fb8034",
										"exec": [
											"var response = pm.response.json();",
											"    ",
											"",
											"pm.test(\"Returns status code 200 OK\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(\"Returns correct etag header\", function () {",
											"    pm.response.to.have.header(\"etag\", \"W/\\\"2\\\"\");",
											"});",
											"",
											"pm.test(\"Returns correct canned response\", () =>{",
											"    var expected = JSON.stringify(pm.environment.get(\"expected_response\"));",
											"    var actual = JSON.stringify(response);",
											"    pm.expect(actual).to.eql(expected);",
											"});",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "63801419-5846-485d-8c24-4ee7337dcc59",
										"exec": [
											"var expected_response =",
											"{",
											"    \"birthDate\": \"2010-10-22\",",
											"    \"deceasedDateTime\": \"2010-10-22T00:00:00+00:00\",",
											"    \"extension\": [",
											"        {",
											"            \"extension\": [",
											"                {",
											"                    \"url\": \"deathNotificationStatus\",",
											"                    \"valueCodeableConcept\": {",
											"                        \"coding\": [",
											"                            {",
											"                                \"code\": \"2\",",
											"                                \"display\": \"Formal - death notice received from Registrar of Deaths\",",
											"                                \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-DeathNotificationStatus\",",
											"                                \"version\": \"1.0.0\"",
											"                            }",
											"                        ]",
											"                    }",
											"                },",
											"                {",
											"                    \"url\": \"systemEffectiveDate\",",
											"                    \"valueDateTime\": \"2010-10-22T00:00:00+00:00\"",
											"                }",
											"            ],",
											"            \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-DeathNotificationStatus\"",
											"        }",
											"    ],",
											"    \"gender\": \"female\",",
											"    \"id\": \"9000000025\",",
											"    \"identifier\": [",
											"        {",
											"            \"extension\": [",
											"                {",
											"                    \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-NHSNumberVerificationStatus\",",
											"                    \"valueCodeableConcept\": {",
											"                        \"coding\": [",
											"                            {",
											"                                \"code\": \"01\",",
											"                                \"display\": \"Number present and verified\",",
											"                                \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-NHSNumberVerificationStatus\",",
											"                                \"version\": \"1.0.0\"",
											"                            }",
											"                        ]",
											"                    }",
											"                }",
											"            ],",
											"            \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",",
											"            \"value\": \"9000000025\"",
											"        }",
											"    ],",
											"    \"meta\": {",
											"        \"security\": [",
											"            {",
											"                \"code\": \"R\",",
											"                \"display\": \"restricted\",",
											"                \"system\": \"https://www.hl7.org/fhir/valueset-security-labels.html\"",
											"            }",
											"        ],",
											"        \"versionId\": \"2\"",
											"    },",
											"    \"multipleBirthInteger\": 1,",
											"    \"name\": [",
											"        {",
											"            \"family\": \"Smythe\",",
											"            \"given\": [",
											"                \"Janet\"",
											"            ],",
											"            \"id\": \"123\",",
											"            \"period\": {",
											"                \"end\": \"2021-12-31\",",
											"                \"start\": \"2020-01-01\"",
											"            },",
											"            \"prefix\": [",
											"                \"Mrs\"",
											"            ],",
											"            \"suffix\": [",
											"                \"MBE\"",
											"            ],",
											"            \"use\": \"usual\"",
											"        }",
											"    ],",
											"    \"resourceType\": \"Patient\"",
											"}",
											"",
											"pm.environment.set(\"expected_response\", expected_response);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{environment}}/Patient/9000000025",
									"host": [
										"{{environment}}"
									],
									"path": [
										"Patient",
										"9000000025"
									]
								},
								"description": "GIVEN I have a valid NHS Number\nWHEN I call the simple search query\nTHEN I should get the patients details"
							},
							"response": []
						},
						{
							"name": "Retrieve: Patient does not Exist",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "42c9163b-04a3-4d90-8a96-528504204415",
										"exec": [
											"var response = pm.response.json();",
											"",
											"pm.test(\"Returns status code 404 Not Found\", () =>{",
											"    pm.response.to.have.status(404);",
											"});",
											"",
											"pm.test(\"Returns correct canned response\", () =>{",
											"    pm.expect(JSON.stringify(response)).to.eql(JSON.stringify({",
											"    \"resourceType\": \"OperationOutcome\",",
											"    \"issue\": [",
											"        {",
											"            \"severity\": \"error\",",
											"            \"code\": \"not_found\",",
											"            \"details\": {",
											"                \"coding\": [",
											"                    {",
											"                        \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/Spine-ErrorOrWarningCode\",",
											"                        \"version\": \"1\",",
											"                        \"code\": \"RESOURCE_NOT_FOUND\",",
											"                        \"display\": \"Resource not found\"",
											"                    }",
											"                ]",
											"            }",
											"        }",
											"    ]",
											"}));",
											"})"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{environment}}/Patient/9111231130",
									"host": [
										"{{environment}}"
									],
									"path": [
										"Patient",
										"9111231130"
									]
								},
								"description": "GIVEN I have a valid NHS Number\nWHEN I call the simple search query\nTHEN I should get the patients details"
							},
							"response": []
						},
						{
							"name": "Retrieve: Invalid NHS number",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "a5fde871-2279-4100-919a-555a86f5b8a1",
										"exec": [
											"var response = pm.response.json();",
											"",
											"pm.test(\"Returns status code 400 Bad Request\", () =>{",
											"    pm.response.to.have.status(400);",
											"});",
											"",
											"pm.test(\"Returns correct canned response\", () =>{",
											"    pm.expect(JSON.stringify(response)).to.eql(JSON.stringify({",
											"    \"resourceType\": \"OperationOutcome\",",
											"    \"issue\": [",
											"        {",
											"            \"severity\": \"error\",",
											"            \"code\": \"value\",",
											"            \"details\": {",
											"                \"coding\": [",
											"                    {",
											"                        \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/Spine-ErrorOrWarningCode\",",
											"                        \"version\": \"1\",",
											"                        \"code\": \"INVALID_RESOURCE_ID\",",
											"                        \"display\": \"Resource Id is invalid\"",
											"                    }",
											"                ]",
											"            }",
											"        }",
											"    ]",
											"}));",
											"})"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{environment}}/Patient/9000000000",
									"host": [
										"{{environment}}"
									],
									"path": [
										"Patient",
										"9000000000"
									]
								},
								"description": "GIVEN I have a valid NHS Number\nWHEN I call the simple search query\nTHEN I should get the patients details"
							},
							"response": []
						},
						{
							"name": "Retrieve: No NHS Number",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "ecfcc6ae-77a7-4ee7-95cc-8b692e55f0e9",
										"exec": [
											"var response = pm.response.json();",
											"",
											"pm.test(\"Returns status code 400 Bad Request\", () =>{",
											"    pm.response.to.have.status(400);",
											"});",
											"",
											"pm.test(\"Returns correct canned response\", () =>{",
											"    pm.expect(JSON.stringify(response)).to.eql(JSON.stringify({",
											"    \"resourceType\": \"OperationOutcome\",",
											"    \"issue\": [",
											"        {",
											"            \"severity\": \"error\",",
											"            \"code\": \"processing\",",
											"            \"details\": {",
											"                \"coding\": [",
											"                    {",
											"                        \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/Spine-ErrorOrWarningCode\",",
											"                        \"version\": \"1\",",
											"                        \"code\": \"UNSUPPORTED_SERVICE\",",
											"                        \"display\": \"Unsupported Service\"",
											"                    }",
											"                ]",
											"            }",
											"        }",
											"    ]",
											"}));",
											"})"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{environment}}/Patient/",
									"host": [
										"{{environment}}"
									],
									"path": [
										"Patient",
										""
									]
								},
								"description": "GIVEN I have a valid NHS Number\nWHEN I call the simple search query\nTHEN I should get the patients details"
							},
							"response": []
						},
						{
							"name": "Retrieve: Sensitive Patient",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "19028e1c-8af1-4785-9502-413a44a2f576",
										"exec": [
											"var response = pm.response.json();",
											"    ",
											"",
											"pm.test(\"Returns status code 200 OK\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(\"Returns correct etag header\", function () {",
											"    pm.response.to.have.header(\"etag\", \"W/\\\"2\\\"\");",
											"});",
											"",
											"pm.test(\"Returns correct canned response\", () =>{",
											"    let expectedResp = JSON.stringify(pm.environment.get(\"expected_response\").identifier[0]);",
											"    let actualResp = JSON.stringify(pm.response.json().identifier[0]);",
											"    console.log(\"Expected Response:\", expectedResp);",
											"    console.log(\"Actual Response:\", actualResp);",
											"    pm.expect(expectedResp).to.eql(actualResp);",
											"});",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "3ac1a45c-1c2c-407c-b220-f816c0251ea5",
										"exec": [
											"var expected_response =",
											"{",
											"    \"birthDate\": \"2010-10-22\",",
											"    \"deceasedDateTime\": \"2010-10-22T00:00:00+00:00\",",
											"    \"extension\": [",
											"        {",
											"            \"extension\": [",
											"                {",
											"                    \"url\": \"deathNotificationStatus\",",
											"                    \"valueCodeableConcept\": {",
											"                        \"coding\": [",
											"                            {",
											"                                \"code\": \"2\",",
											"                                \"display\": \"Formal - death notice received from Registrar of Deaths\",",
											"                                \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-DeathNotificationStatus\",",
											"                                \"version\": \"1.0.0\"",
											"                            }",
											"                        ]",
											"                    }",
											"                },",
											"                {",
											"                    \"url\": \"systemEffectiveDate\",",
											"                    \"valueDateTime\": \"2010-10-22T00:00:00+00:00\"",
											"                }",
											"            ],",
											"            \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-DeathNotificationStatus\"",
											"        }",
											"    ],",
											"    \"gender\": \"female\",",
											"    \"id\": \"9000000025\",",
											"    \"identifier\": [",
											"        {",
											"            \"extension\": [",
											"                {",
											"                    \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-NHSNumberVerificationStatus\",",
											"                    \"valueCodeableConcept\": {",
											"                        \"coding\": [",
											"                            {",
											"                                \"code\": \"01\",",
											"                                \"display\": \"Number present and verified\",",
											"                                \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-NHSNumberVerificationStatus\",",
											"                                \"version\": \"1.0.0\"",
											"                            }",
											"                        ]",
											"                    }",
											"                }",
											"            ],",
											"            \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",",
											"            \"value\": \"9000000025\"",
											"        }",
											"    ],",
											"    \"meta\": {",
											"        \"security\": [",
											"            {",
											"                \"code\": \"R\",",
											"                \"display\": \"restricted\",",
											"                \"system\": \"https://www.hl7.org/fhir/valueset-security-labels.html\"",
											"            }",
											"        ],",
											"        \"versionId\": \"2\"",
											"    },",
											"    \"multipleBirthInteger\": 1,",
											"    \"name\": [",
											"        {",
											"            \"family\": \"Smythe\",",
											"            \"given\": [",
											"                \"Janet\"",
											"            ],",
											"            \"id\": \"123\",",
											"            \"period\": {",
											"                \"end\": \"2021-12-31\",",
											"                \"start\": \"2020-01-01\"",
											"            },",
											"            \"prefix\": [",
											"                \"Mrs\"",
											"            ],",
											"            \"suffix\": [",
											"                \"MBE\"",
											"            ],",
											"            \"use\": \"usual\"",
											"        }",
											"    ],",
											"    \"resourceType\": \"Patient\"",
											"}",
											"",
											"",
											"pm.environment.set(\"expected_response\", expected_response);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{environment}}/Patient/9000000025",
									"host": [
										"{{environment}}"
									],
									"path": [
										"Patient",
										"9000000025"
									]
								},
								"description": "GIVEN I have a valid NHS Number\nWHEN I call the simple search query\nTHEN I should get the patients details"
							},
							"response": []
						},
						{
							"name": "Retrieve: Patient Minimal Data",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "ef08dd5d-72cd-452f-9930-bc66fbb430be",
										"exec": [
											"var response = pm.response.json();",
											"    ",
											"",
											"pm.test(\"Returns status code 200 OK\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(\"Returns correct etag header\", function () {",
											"    pm.response.to.have.header(\"etag\", \"W/\\\"2\\\"\");",
											"});",
											"",
											"pm.test(\"Returns correct canned response\", () =>{",
											"    var expected = JSON.stringify(pm.environment.get(\"expected_response\"));",
											"    var actual = JSON.stringify(response);",
											"    pm.expect(actual).to.eql(expected);",
											"});",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "da8fd987-3077-4f9d-8f14-5763746cdf9d",
										"exec": [
											"var expected_response =",
											"{",
											"    \"id\": \"9000000033\",",
											"    \"identifier\": [",
											"        {",
											"            \"extension\": [",
											"                {",
											"                    \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-NHSNumberVerificationStatus\",",
											"                    \"valueCodeableConcept\": {",
											"                        \"coding\": [",
											"                            {",
											"                                \"code\": \"01\",",
											"                                \"display\": \"Number present and verified\",",
											"                                \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-NHSNumberVerificationStatus\",",
											"                                \"version\": \"1.0.0\"",
											"                            }",
											"                        ]",
											"                    }",
											"                }",
											"            ],",
											"            \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",",
											"            \"value\": \"9000000033\"",
											"        }",
											"    ],",
											"    \"meta\": {",
											"        \"security\": [",
											"            {",
											"                \"code\": \"U\",",
											"                \"display\": \"unrestricted\",",
											"                \"system\": \"https://www.hl7.org/fhir/valueset-security-labels.html\"",
											"            }",
											"        ],",
											"        \"versionId\": \"2\"",
											"    },",
											"    \"resourceType\": \"Patient\"",
											"}",
											"",
											"pm.environment.set(\"expected_response\", expected_response);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{environment}}/Patient/9000000033",
									"host": [
										"{{environment}}"
									],
									"path": [
										"Patient",
										"9000000033"
									]
								},
								"description": "GIVEN I have a valid NHS Number\nWHEN I call the simple search query\nTHEN I should get the patients details"
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "RelatedPerson",
					"item": [
						{
							"name": "Related Persons Exists",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "3c65e32a-56fd-4e54-ab2d-926a6b31b542",
										"exec": [
											"var response = pm.response.json();",
											"    ",
											"",
											"pm.test(\"Returns status code 200 OK\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(\"Returns correct etag header\", function () {",
											"    pm.response.to.have.header(\"etag\", \"W/\\\"2\\\"\");",
											"});",
											"",
											"pm.test(\"Returns correct canned response\", () =>{",
											"    pm.expect(JSON.stringify(pm.response.json().resourceType)).to.eql(JSON.stringify(pm.environment.get(\"expected_response\").resourceType));",
											"    pm.expect(JSON.stringify(pm.response.json().total)).to.eql(JSON.stringify(pm.environment.get(\"expected_response\").total));",
											"    pm.expect(JSON.stringify(pm.response.json().type)).to.eql(JSON.stringify(pm.environment.get(\"expected_response\").type));",
											"    pm.expect(JSON.stringify(pm.response.json().entry[0])).to.eql(JSON.stringify(pm.environment.get(\"expected_response\").entry[0]));",
											"    pm.expect(JSON.stringify(pm.response.json().entry[1])).to.eql(JSON.stringify(pm.environment.get(\"expected_response\").entry[1]));",
											"});",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "a7cfc44d-23c3-4f2b-938b-746ede39ad0f",
										"exec": [
											"var expected_response =",
											"{",
											"    \"resourceType\": \"Bundle\",",
											"    \"type\": \"searchset\",",
											"    \"timestamp\": \"2020-08-04T09:49:19+00:00\",",
											"    \"total\": 2,",
											"    \"entry\": [",
											"        {",
											"            \"fullUrl\": \"https://beta.api.digital.nhs.uk/personal-demographics/Patient/9000000009/RelatedPerson/507B7621\",",
											"            \"resource\": {",
											"                \"active\": true,",
											"                \"address\": [",
											"                    {",
											"                        \"extension\": [",
											"                            {",
											"                                \"extension\": [",
											"                                    {",
											"                                        \"url\": \"type\",",
											"                                        \"valueCoding\": {",
											"                                            \"code\": \"PAF\",",
											"                                            \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-AddressKeyType\"",
											"                                        }",
											"                                    },",
											"                                    {",
											"                                        \"url\": \"value\",",
											"                                        \"valueString\": \"12345678\"",
											"                                    }",
											"                                ],",
											"                                \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-AddressKey\"",
											"                            }",
											"                        ],",
											"                        \"line\": [",
											"                            \"1 Trevelyan Square\",",
											"                            \"Boar Lane\",",
											"                            \"City Centre\",",
											"                            \"Leeds\",",
											"                            \"West Yorkshire\"",
											"                        ],",
											"                        \"period\": {",
											"                            \"end\": \"2021-12-31\",",
											"                            \"start\": \"2020-01-01\"",
											"                        },",
											"                        \"postalCode\": \"LS1 6AE\",",
											"                        \"use\": \"home\"",
											"                    }",
											"                ],",
											"                \"extension\": [",
											"                    {",
											"                        \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-CopyCorrespondenceIndicator\",",
											"                        \"valueBoolean\": true",
											"                    },",
											"                    {",
											"                        \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-ContactRank\",",
											"                        \"valuePositiveInt\": 1",
											"                    },",
											"                    {",
											"                        \"extension\": [",
											"                            {",
											"                                \"url\": \"PreferredWrittenCommunicationFormat\",",
											"                                \"valueCodeableConcept\": {",
											"                                    \"coding\": [",
											"                                        {",
											"                                            \"code\": \"12\",",
											"                                            \"display\": \"Braille\",",
											"                                            \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-PreferredWrittenCommunicationFormat\"",
											"                                        }",
											"                                    ]",
											"                                }",
											"                            },",
											"                            {",
											"                                \"url\": \"PreferredContactMethod\",",
											"                                \"valueCodeableConcept\": {",
											"                                    \"coding\": [",
											"                                        {",
											"                                            \"code\": \"1\",",
											"                                            \"display\": \"Letter\",",
											"                                            \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-PreferredContactMethod\"",
											"                                        }",
											"                                    ]",
											"                                }",
											"                            },",
											"                            {",
											"                                \"url\": \"PreferredContactTimes\",",
											"                                \"valueString\": \"Not after 7pm\"",
											"                            }",
											"                        ],",
											"                        \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-ContactPreference\"",
											"                    },",
											"                    {",
											"                        \"extension\": [",
											"                            {",
											"                                \"url\": \"language\",",
											"                                \"valueCodeableConcept\": {",
											"                                    \"coding\": [",
											"                                        {",
											"                                            \"code\": \"fr\",",
											"                                            \"display\": \"French\",",
											"                                            \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-HumanLanguage\",",
											"                                            \"version\": \"1.0.0\"",
											"                                        }",
											"                                    ]",
											"                                }",
											"                            },",
											"                            {",
											"                                \"url\": \"interpreterRequired\",",
											"                                \"valueBoolean\": true",
											"                            }",
											"                        ],",
											"                        \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-NHSCommunication\"",
											"                    }",
											"                ],",
											"                \"id\": \"507B7621\",",
											"                \"name\": [",
											"                    {",
											"                        \"family\": \"Smith\",",
											"                        \"given\": [",
											"                            \"Jane\"",
											"                        ],",
											"                        \"period\": {",
											"                            \"end\": \"2021-12-31\",",
											"                            \"start\": \"2020-01-01\"",
											"                        },",
											"                        \"prefix\": [",
											"                            \"Mrs\"",
											"                        ],",
											"                        \"suffix\": [",
											"                            \"MBE\"",
											"                        ],",
											"                        \"use\": \"usual\"",
											"                    }",
											"                ],",
											"                \"patient\": {",
											"                    \"identifier\": {",
											"                        \"system\": \"https://beta.api.digital.nhs.uk/personal-demographics/Patient\",",
											"                        \"value\": \"90000000009\"",
											"                    },",
											"                    \"reference\": \"https://beta.api.digital.nhs.uk/personal-demographics/Patient/90000000009\",",
											"                    \"type\": \"Patient\"",
											"                },",
											"                \"period\": {",
											"                    \"end\": \"2021-12-31\",",
											"                    \"start\": \"2020-01-01\"",
											"                },",
											"                \"relationship\": [",
											"                    {",
											"                        \"coding\": [",
											"                            {",
											"                                \"code\": \"Guardian\",",
											"                                \"display\": \"Guardian of patient\",",
											"                                \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-AdditionalRelatedPersonRole\"",
											"                            }",
											"                        ]",
											"                    }",
											"                ],",
											"                \"resourceType\": \"RelatedPerson\",",
											"                \"telecom\": [",
											"                    {",
											"                        \"period\": {",
											"                            \"end\": \"2021-12-31\",",
											"                            \"start\": \"2020-01-01\"",
											"                        },",
											"                        \"system\": \"phone\",",
											"                        \"use\": \"work\",",
											"                        \"value\": \"01632960587\"",
											"                    }",
											"                ]",
											"            }",
											"        },",
											"        {",
											"            \"fullUrl\": \"https://beta.api.digital.nhs.uk/personal-demographics/Patient/9000000009/RelatedPerson/B3380E98\",",
											"            \"resource\": {",
											"                \"active\": true,",
											"                \"extension\": [",
											"                    {",
											"                        \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-CopyCorrespondenceIndicator\",",
											"                        \"valueBoolean\": true",
											"                    },",
											"                    {",
											"                        \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-ContactRank\",",
											"                        \"valuePositiveInt\": 1",
											"                    },",
											"                    {",
											"                        \"extension\": [",
											"                            {",
											"                                \"url\": \"PreferredWrittenCommunicationFormat\",",
											"                                \"valueCodeableConcept\": {",
											"                                    \"coding\": [",
											"                                        {",
											"                                            \"code\": \"12\",",
											"                                            \"display\": \"Braille\",",
											"                                            \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-PreferredWrittenCommunicationFormat\"",
											"                                        }",
											"                                    ]",
											"                                }",
											"                            },",
											"                            {",
											"                                \"url\": \"PreferredContactMethod\",",
											"                                \"valueCodeableConcept\": {",
											"                                    \"coding\": [",
											"                                        {",
											"                                            \"code\": \"1\",",
											"                                            \"display\": \"Letter\",",
											"                                            \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-PreferredContactMethod\"",
											"                                        }",
											"                                    ]",
											"                                }",
											"                            },",
											"                            {",
											"                                \"url\": \"PreferredContactTimes\",",
											"                                \"valueString\": \"Not after 7pm\"",
											"                            }",
											"                        ],",
											"                        \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-ContactPreference\"",
											"                    },",
											"                    {",
											"                        \"extension\": [",
											"                            {",
											"                                \"url\": \"language\",",
											"                                \"valueCodeableConcept\": {",
											"                                    \"coding\": [",
											"                                        {",
											"                                            \"code\": \"fr\",",
											"                                            \"display\": \"French\",",
											"                                            \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-HumanLanguage\",",
											"                                            \"version\": \"1.0.0\"",
											"                                        }",
											"                                    ]",
											"                                }",
											"                            },",
											"                            {",
											"                                \"url\": \"interpreterRequired\",",
											"                                \"valueBoolean\": true",
											"                            }",
											"                        ],",
											"                        \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-NHSCommunication\"",
											"                    }",
											"                ],",
											"                \"id\": \"B3380E98\",",
											"                \"patient\": {",
											"                    \"identifier\": {",
											"                        \"system\": \"https://beta.api.digital.nhs.uk/personal-demographics/Patient\",",
											"                        \"value\": \"90000000009\"",
											"                    },",
											"                    \"reference\": \"https://beta.api.digital.nhs.uk/personal-demographics/Patient/90000000009\",",
											"                    \"type\": \"Patient\"",
											"                },",
											"                \"period\": {",
											"                    \"end\": \"2021-12-31\",",
											"                    \"start\": \"2020-01-01\"",
											"                },",
											"                \"relationship\": [",
											"                    {",
											"                        \"coding\": [",
											"                            {",
											"                                \"code\": \"Guardian\",",
											"                                \"display\": \"Guardian of patient\",",
											"                                \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-AdditionalRelatedPersonRole\"",
											"                            }",
											"                        ]",
											"                    }",
											"                ],",
											"                \"resourceType\": \"RelatedPerson\"",
											"            }",
											"        }",
											"    ]",
											"}",
											"",
											"pm.environment.set(\"expected_response\", expected_response);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{environment}}/Patient/9000000009/RelatedPerson",
									"host": [
										"{{environment}}"
									],
									"path": [
										"Patient",
										"9000000009",
										"RelatedPerson"
									]
								},
								"description": "GIVEN I have a valid NHS Number\nWHEN I call the simple search query\nTHEN I should get the patients details"
							},
							"response": []
						},
						{
							"name": "Patient does not Exist",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "26ebb1a4-53a0-4a95-ab71-8e47e1a27bd8",
										"exec": [
											"var response = pm.response.json();",
											"",
											"pm.test(\"Returns status code 404 Not Found\", () =>{",
											"    pm.response.to.have.status(404);",
											"});",
											"",
											"pm.test(\"Returns correct canned response\", () =>{",
											"    pm.expect(JSON.stringify(response)).to.eql(JSON.stringify({",
											"    \"resourceType\": \"OperationOutcome\",",
											"    \"issue\": [",
											"        {",
											"            \"severity\": \"error\",",
											"            \"code\": \"not_found\",",
											"            \"details\": {",
											"                \"coding\": [",
											"                    {",
											"                        \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/Spine-ErrorOrWarningCode\",",
											"                        \"version\": \"1\",",
											"                        \"code\": \"RESOURCE_NOT_FOUND\",",
											"                        \"display\": \"Resource not found\"",
											"                    }",
											"                ]",
											"            }",
											"        }",
											"    ]",
											"}));",
											"})"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{environment}}/Patient/9111231130/RelatedPerson",
									"host": [
										"{{environment}}"
									],
									"path": [
										"Patient",
										"9111231130",
										"RelatedPerson"
									]
								},
								"description": "GIVEN I have a valid NHS Number\nWHEN I call the simple search query\nTHEN I should get the patients details"
							},
							"response": []
						},
						{
							"name": "Related Persons do not Exist",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "48ceb91e-8639-4a32-a1f4-9774d1b10532",
										"exec": [
											"var response = pm.response.json();",
											"",
											"pm.test(\"Returns status code 200\", () =>{",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"",
											"pm.test(\"Returns a Bundle\", () =>{",
											"    pm.expect(pm.response.json().resourceType).to.eql(\"Bundle\");",
											"});",
											"",
											"pm.test(\"Returns a type\", () =>{",
											"    pm.expect(pm.response.json().type).to.eql(\"searchset\");",
											"});",
											"",
											"pm.test(\"Returns 0 search results\", () =>{",
											"    pm.expect(pm.response.json().total).to.eql(0);",
											"});",
											"",
											"pm.test(\"Returns no entry field\", () =>{",
											"    pm.expect(pm.response.json().entry).to.eql(undefined);",
											"});",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{environment}}/Patient/9000000025/RelatedPerson",
									"host": [
										"{{environment}}"
									],
									"path": [
										"Patient",
										"9000000025",
										"RelatedPerson"
									]
								},
								"description": "GIVEN I have a valid NHS Number\nWHEN I call the simple search query\nTHEN I should get the patients details"
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Update",
					"item": [
						{
							"name": "Update: Accepted",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "5cb229aa-35c7-40bd-91b7-3fd806cd1a8e",
										"exec": [
											"",
											"var messageId = pm.response.headers.get(\"content-location\").replace(\"/_poll/\", \"\")",
											"pm.environment.set(\"polling_id\", messageId)",
											"",
											"pm.test(\"Returns status code 202 Accepted\", function () {",
											"    pm.response.to.have.status(202);",
											"});",
											"",
											"pm.test(\"Returns retry-after header\", function () {",
											"    pm.response.to.have.header(\"retry-after\", \"100\");",
											"});",
											"",
											"pm.test(\"Mirrors X-Request-ID\", function () {",
											"    pm.response.to.have.header(\"x-request-id\", pm.environment.get(\"request_id\"));",
											"});",
											"",
											"pm.test(\"Mirrors X-Correlation-ID\", function () {",
											"    pm.response.to.have.header(\"x-correlation-id\", pm.environment.get(\"correlation_id\"));",
											"});",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "938220f0-914f-4382-99d8-77a370717061",
										"exec": [
											"var uuid = require(\"uuid\");",
											"pm.environment.set(\"request_id\", uuid.v4());",
											"pm.environment.set(\"correlation_id\", \"POSTMAN_123\")",
											"",
											"var expected_response =",
											"{",
											"    \"address\": [",
											"        {",
											"            \"extension\": [",
											"                {",
											"                    \"extension\": [",
											"                        {",
											"                            \"url\": \"type\",",
											"                            \"valueCoding\": {",
											"                                \"code\": \"PAF\",",
											"                                \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-AddressKeyType\"",
											"                            }",
											"                        },",
											"                        {",
											"                            \"url\": \"value\",",
											"                            \"valueString\": \"12345678\"",
											"                        }",
											"                    ],",
											"                    \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-AddressKey\"",
											"                }",
											"            ],",
											"            \"id\": \"456\",",
											"            \"line\": [",
											"                \"1 Trevelyan Square\",",
											"                \"Boar Lane\",",
											"                \"City Centre\",",
											"                \"Leeds\",",
											"                \"West Yorkshire\"",
											"            ],",
											"            \"period\": {",
											"                \"end\": \"2021-12-31\",",
											"                \"start\": \"2020-01-01\"",
											"            },",
											"            \"postalCode\": \"LS1 6AE\",",
											"            \"use\": \"home\"",
											"        }",
											"    ],",
											"    \"birthDate\": \"2010-10-22\",",
											"    \"contact\": [",
											"        {",
											"            \"id\": \"C123\",",
											"            \"period\": {",
											"                \"end\": \"2021-12-31\",",
											"                \"start\": \"2020-01-01\"",
											"            },",
											"            \"relationship\": [",
											"                {",
											"                    \"coding\": [",
											"                        {",
											"                            \"code\": \"C\",",
											"                            \"display\": \"Emergency Contact\",",
											"                            \"system\": \"http://terminology.hl7.org/CodeSystem/v2-0131\"",
											"                        }",
											"                    ]",
											"                }",
											"            ],",
											"            \"telecom\": [",
											"                {",
											"                    \"system\": \"phone\",",
											"                    \"value\": \"01632960587\"",
											"                }",
											"            ]",
											"        }",
											"    ],",
											"    \"deceasedDateTime\": \"2010-10-22T00:00:00+00:00\",",
											"    \"extension\": [",
											"        {",
											"            \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-NominatedPharmacy\",",
											"            \"valueReference\": {",
											"                \"identifier\": {",
											"                    \"period\": {",
											"                        \"end\": \"2021-12-31\",",
											"                        \"start\": \"2020-01-01\"",
											"                    },",
											"                    \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",",
											"                    \"value\": \"Y12345\"",
											"                },",
											"                \"reference\": \"https://directory.spineservices.nhs.uk/STU3/Organization/Y12345\"",
											"            }",
											"        },",
											"        {",
											"            \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-PreferredDispenserOrganization\",",
											"            \"valueReference\": {",
											"                \"identifier\": {",
											"                    \"period\": {",
											"                        \"end\": \"2021-12-31\",",
											"                        \"start\": \"2020-01-01\"",
											"                    },",
											"                    \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",",
											"                    \"value\": \"Y23456\"",
											"                },",
											"                \"reference\": \"https://directory.spineservices.nhs.uk/STU3/Organization/Y23456\"",
											"            }",
											"        },",
											"        {",
											"            \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-MedicalApplianceSupplier\",",
											"            \"valueReference\": {",
											"                \"identifier\": {",
											"                    \"period\": {",
											"                        \"end\": \"2021-12-31\",",
											"                        \"start\": \"2020-01-01\"",
											"                    },",
											"                    \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",",
											"                    \"value\": \"Y34567\"",
											"                },",
											"                \"reference\": \"https://directory.spineservices.nhs.uk/STU3/Organization/Y34567\"",
											"            }",
											"        },",
											"        {",
											"            \"extension\": [",
											"                {",
											"                    \"url\": \"deathNotificationStatus\",",
											"                    \"valueCodeableConcept\": {",
											"                        \"coding\": [",
											"                            {",
											"                                \"code\": \"2\",",
											"                                \"display\": \"Formal - death notice received from Registrar of Deaths\",",
											"                                \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-DeathNotificationStatus\",",
											"                                \"version\": \"1.0.0\"",
											"                            }",
											"                        ]",
											"                    }",
											"                },",
											"                {",
											"                    \"url\": \"systemEffectiveDate\",",
											"                    \"valueDateTime\": \"2010-10-22T00:00:00+00:00\"",
											"                }",
											"            ],",
											"            \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-DeathNotificationStatus\"",
											"        },",
											"        {",
											"            \"extension\": [",
											"                {",
											"                    \"url\": \"language\",",
											"                    \"valueCodeableConcept\": {",
											"                        \"coding\": [",
											"                            {",
											"                                \"code\": \"fr\",",
											"                                \"display\": \"French\",",
											"                                \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-HumanLanguage\",",
											"                                \"version\": \"1.0.0\"",
											"                            }",
											"                        ]",
											"                    }",
											"                },",
											"                {",
											"                    \"url\": \"interpreterRequired\",",
											"                    \"valueBoolean\": true",
											"                }",
											"            ],",
											"            \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-NHSCommunication\"",
											"        },",
											"        {",
											"            \"extension\": [",
											"                {",
											"                    \"url\": \"PreferredWrittenCommunicationFormat\",",
											"                    \"valueCodeableConcept\": {",
											"                        \"coding\": [",
											"                            {",
											"                                \"code\": \"12\",",
											"                                \"display\": \"Braille\",",
											"                                \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-PreferredWrittenCommunicationFormat\"",
											"                            }",
											"                        ]",
											"                    }",
											"                },",
											"                {",
											"                    \"url\": \"PreferredContactMethod\",",
											"                    \"valueCodeableConcept\": {",
											"                        \"coding\": [",
											"                            {",
											"                                \"code\": \"1\",",
											"                                \"display\": \"Letter\",",
											"                                \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-PreferredContactMethod\"",
											"                            }",
											"                        ]",
											"                    }",
											"                },",
											"                {",
											"                    \"url\": \"PreferredContactTimes\",",
											"                    \"valueString\": \"Not after 7pm\"",
											"                }",
											"            ],",
											"            \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-ContactPreference\"",
											"        },",
											"        {",
											"            \"url\": \"http://hl7.org/fhir/StructureDefinition/patient-birthPlace\",",
											"            \"valueAddress\": {",
											"                \"city\": \"Manchester\",",
											"                \"country\": \"GBR\",",
											"                \"district\": \"Greater Manchester\"",
											"            }",
											"        }",
											"    ],",
											"    \"gender\": \"female\",",
											"    \"generalPractitioner\": [",
											"        {",
											"            \"id\": \"254406A3\",",
											"            \"identifier\": {",
											"                \"period\": {",
											"                    \"end\": \"2021-12-31\",",
											"                    \"start\": \"2020-01-01\"",
											"                },",
											"                \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",",
											"                \"value\": \"Y12345\"",
											"            },",
											"            \"reference\": \"https://directory.spineservices.nhs.uk/STU3/Organization/Y12345\",",
											"            \"type\": \"Organization\"",
											"        }",
											"    ],",
											"    \"id\": \"9000000009\",",
											"    \"identifier\": [",
											"        {",
											"            \"extension\": [",
											"                {",
											"                    \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-NHSNumberVerificationStatus\",",
											"                    \"valueCodeableConcept\": {",
											"                        \"coding\": [",
											"                            {",
											"                                \"code\": \"01\",",
											"                                \"display\": \"Number present and verified\",",
											"                                \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-NHSNumberVerificationStatus\",",
											"                                \"version\": \"1.0.0\"",
											"                            }",
											"                        ]",
											"                    }",
											"                }",
											"            ],",
											"            \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",",
											"            \"value\": \"9000000009\"",
											"        }",
											"    ],",
											"    \"meta\": {",
											"        \"security\": [",
											"            {",
											"                \"code\": \"U\",",
											"                \"display\": \"unrestricted\",",
											"                \"system\": \"https://www.hl7.org/fhir/valueset-security-labels.html\"",
											"            }",
											"        ],",
											"        \"versionId\": 3",
											"    },",
											"    \"multipleBirthInteger\": 1,",
											"    \"name\": [",
											"        {",
											"            \"id\": \"123\",",
											"            \"use\": \"usual\",",
											"            \"period\": {",
											"                \"start\": \"2020-01-01\",",
											"                \"end\": \"2021-12-31\"",
											"            },",
											"            \"given\": [",
											"                \"James\"",
											"            ],",
											"            \"family\": \"Smith\",",
											"            \"prefix\": [",
											"                \"Mr\"",
											"            ],",
											"            \"suffix\": [",
											"                \"MBE\"",
											"            ]",
											"        }",
											"    ],",
											"    \"resourceType\": \"Patient\",",
											"    \"telecom\": [",
											"        {",
											"            \"id\": \"789\",",
											"            \"period\": {",
											"                \"end\": \"2021-12-31\",",
											"                \"start\": \"2020-01-01\"",
											"            },",
											"            \"system\": \"phone\",",
											"            \"use\": \"work\",",
											"            \"value\": \"01632960587\"",
											"        },",
											"        {",
											"            \"extension\": [",
											"                {",
											"                    \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-OtherContactSystem\",",
											"                    \"valueCoding\": {",
											"                        \"code\": \"textphone\",",
											"                        \"display\": \"Minicom (Textphone)\",",
											"                        \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-OtherContactSystem\"",
											"                    }",
											"                }",
											"            ],",
											"            \"id\": \"OC789\",",
											"            \"period\": {",
											"                \"end\": \"2021-12-31\",",
											"                \"start\": \"2020-01-01\"",
											"            },",
											"            \"system\": \"other\",",
											"            \"use\": \"work\",",
											"            \"value\": \"01632960587\"",
											"        }",
											"    ]",
											"}",
											"",
											"pm.environment.set(\"expected_response\", expected_response);",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PATCH",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json-patch+json",
										"type": "text"
									},
									{
										"key": "If-Match",
										"value": "W/\"2\"",
										"type": "text"
									},
									{
										"key": "X-Request-ID",
										"value": "{{request_id}}",
										"type": "text"
									},
									{
										"key": "X-Correlation-ID",
										"value": "{{correlation_id}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"patches\": [\n        {\n            \"op\": \"replace\",\n            \"path\": \"/name/0\",\n            \"value\": {\n                \"id\": \"123\",\n                \"use\": \"usual\",\n                \"period\": {\n                    \"start\": \"2020-01-01\",\n                    \"end\": \"2021-12-31\"\n                },\n                \"given\": [\n                    \"James\"\n                ],\n                \"family\": \"Smith\",\n                \"prefix\": [\n                    \"Mr\"\n                ],\n                \"suffix\": [\n                    \"MBE\"\n                ]\n            }\n        }\n    ]\n}",
									"options": {
										"raw": {}
									}
								},
								"url": {
									"raw": "{{environment}}/Patient/9000000009",
									"host": [
										"{{environment}}"
									],
									"path": [
										"Patient",
										"9000000009"
									]
								}
							},
							"response": []
						},
						{
							"name": "Update: Poll Message Id",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "140d558d-626b-4794-9106-11aa8e8431d7",
										"exec": [
											"var response = pm.response.json();",
											"    ",
											"",
											"pm.test(\"Returns status code 200 OK\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(\"Returns correct etag header\", function () {",
											"    pm.response.to.have.header(\"etag\", \"W/\\\"3\\\"\");",
											"});",
											"",
											"pm.test(\"Returns correct canned response\", () =>{",
											"    var expected = JSON.stringify(pm.environment.get(\"expected_response\"));",
											"    var actual = JSON.stringify(response);",
											"    pm.expect(actual).to.eql(expected);",
											"});",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "7ed390c7-07bf-45bd-93cb-185e1cd81588",
										"exec": [
											"var expected_response =",
											"{",
											"    \"address\": [",
											"        {",
											"            \"extension\": [",
											"                {",
											"                    \"extension\": [",
											"                        {",
											"                            \"url\": \"type\",",
											"                            \"valueCoding\": {",
											"                                \"code\": \"PAF\",",
											"                                \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-AddressKeyType\"",
											"                            }",
											"                        },",
											"                        {",
											"                            \"url\": \"value\",",
											"                            \"valueString\": \"12345678\"",
											"                        }",
											"                    ],",
											"                    \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-AddressKey\"",
											"                }",
											"            ],",
											"            \"id\": \"456\",",
											"            \"line\": [",
											"                \"1 Trevelyan Square\",",
											"                \"Boar Lane\",",
											"                \"City Centre\",",
											"                \"Leeds\",",
											"                \"West Yorkshire\"",
											"            ],",
											"            \"period\": {",
											"                \"end\": \"2021-12-31\",",
											"                \"start\": \"2020-01-01\"",
											"            },",
											"            \"postalCode\": \"LS1 6AE\",",
											"            \"use\": \"home\"",
											"        },",
											"        {",
											"            \"extension\": [",
											"                {",
											"                    \"extension\": [",
											"                        {",
											"                            \"url\": \"type\",",
											"                            \"valueCoding\": {",
											"                                \"code\": \"PAF\",",
											"                                \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-AddressKeyType\"",
											"                            }",
											"                        },",
											"                        {",
											"                            \"url\": \"value\",",
											"                            \"valueString\": \"12345678\"",
											"                        }",
											"                    ],",
											"                    \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-AddressKey\"",
											"                }",
											"            ],",
											"            \"id\": \"T456\",",
											"            \"line\": [",
											"                \"1 Trevelyan Square\",",
											"                \"Boar Lane\",",
											"                \"City Centre\",",
											"                \"Leeds\",",
											"                \"West Yorkshire\"",
											"            ],",
											"            \"period\": {",
											"                \"end\": \"2021-12-31\",",
											"                \"start\": \"2020-01-01\"",
											"            },",
											"            \"postalCode\": \"LS1 6AE\",",
											"            \"text\": \"Student Accommodation\",",
											"            \"use\": \"temp\"",
											"        }",
											"    ],",
											"    \"birthDate\": \"2010-10-22\",",
											"    \"contact\": [",
											"        {",
											"            \"id\": \"C123\",",
											"            \"period\": {",
											"                \"end\": \"2021-12-31\",",
											"                \"start\": \"2020-01-01\"",
											"            },",
											"            \"relationship\": [",
											"                {",
											"                    \"coding\": [",
											"                        {",
											"                            \"code\": \"C\",",
											"                            \"display\": \"Emergency Contact\",",
											"                            \"system\": \"http://terminology.hl7.org/CodeSystem/v2-0131\"",
											"                        }",
											"                    ]",
											"                }",
											"            ],",
											"            \"telecom\": [",
											"                {",
											"                    \"system\": \"phone\",",
											"                    \"value\": \"01632960587\"",
											"                }",
											"            ]",
											"        }",
											"    ],",
											"    \"deceasedDateTime\": \"2010-10-22T00:00:00+00:00\",",
											"    \"extension\": [",
											"        {",
											"            \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-NominatedPharmacy\",",
											"            \"valueReference\": {",
											"                \"identifier\": {",
											"                    \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",",
											"                    \"value\": \"Y12345\"",
											"                },",
											"                \"reference\": \"https://directory.spineservices.nhs.uk/STU3/Organization/Y12345\"",
											"            }",
											"        },",
											"        {",
											"            \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-PreferredDispenserOrganization\",",
											"            \"valueReference\": {",
											"                \"identifier\": {",
											"                    \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",",
											"                    \"value\": \"Y23456\"",
											"                },",
											"                \"reference\": \"https://directory.spineservices.nhs.uk/STU3/Organization/Y23456\"",
											"            }",
											"        },",
											"        {",
											"            \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-MedicalApplianceSupplier\",",
											"            \"valueReference\": {",
											"                \"identifier\": {",
											"                    \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",",
											"                    \"value\": \"Y34567\"",
											"                },",
											"                \"reference\": \"https://directory.spineservices.nhs.uk/STU3/Organization/Y34567\"",
											"            }",
											"        },",
											"        {",
											"            \"extension\": [",
											"                {",
											"                    \"url\": \"deathNotificationStatus\",",
											"                    \"valueCodeableConcept\": {",
											"                        \"coding\": [",
											"                            {",
											"                                \"code\": \"2\",",
											"                                \"display\": \"Formal - death notice received from Registrar of Deaths\",",
											"                                \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-DeathNotificationStatus\",",
											"                                \"version\": \"1.0.0\"",
											"                            }",
											"                        ]",
											"                    }",
											"                },",
											"                {",
											"                    \"url\": \"systemEffectiveDate\",",
											"                    \"valueDateTime\": \"2010-10-22T00:00:00+00:00\"",
											"                }",
											"            ],",
											"            \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-DeathNotificationStatus\"",
											"        },",
											"        {",
											"            \"extension\": [",
											"                {",
											"                    \"url\": \"language\",",
											"                    \"valueCodeableConcept\": {",
											"                        \"coding\": [",
											"                            {",
											"                                \"code\": \"fr\",",
											"                                \"display\": \"French\",",
											"                                \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-HumanLanguage\",",
											"                                \"version\": \"1.0.0\"",
											"                            }",
											"                        ]",
											"                    }",
											"                },",
											"                {",
											"                    \"url\": \"interpreterRequired\",",
											"                    \"valueBoolean\": true",
											"                }",
											"            ],",
											"            \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-NHSCommunication\"",
											"        },",
											"        {",
											"            \"extension\": [",
											"                {",
											"                    \"url\": \"PreferredWrittenCommunicationFormat\",",
											"                    \"valueCodeableConcept\": {",
											"                        \"coding\": [",
											"                            {",
											"                                \"code\": \"12\",",
											"                                \"display\": \"Braille\",",
											"                                \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-PreferredWrittenCommunicationFormat\"",
											"                            }",
											"                        ]",
											"                    }",
											"                },",
											"                {",
											"                    \"url\": \"PreferredContactMethod\",",
											"                    \"valueCodeableConcept\": {",
											"                        \"coding\": [",
											"                            {",
											"                                \"code\": \"1\",",
											"                                \"display\": \"Letter\",",
											"                                \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-PreferredContactMethod\"",
											"                            }",
											"                        ]",
											"                    }",
											"                },",
											"                {",
											"                    \"url\": \"PreferredContactTimes\",",
											"                    \"valueString\": \"Not after 7pm\"",
											"                }",
											"            ],",
											"            \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-ContactPreference\"",
											"        },",
											"        {",
											"            \"url\": \"http://hl7.org/fhir/StructureDefinition/patient-birthPlace\",",
											"            \"valueAddress\": {",
											"                \"city\": \"Manchester\",",
											"                \"country\": \"GBR\",",
											"                \"district\": \"Greater Manchester\"",
											"            }",
											"        }",
											"    ],",
											"    \"gender\": \"female\",",
											"    \"generalPractitioner\": [",
											"        {",
											"            \"id\": \"254406A3\",",
											"            \"identifier\": {",
											"                \"period\": {",
											"                    \"end\": \"2021-12-31\",",
											"                    \"start\": \"2020-01-01\"",
											"                },",
											"                \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",",
											"                \"value\": \"Y12345\"",
											"            },",
											"            \"reference\": \"https://directory.spineservices.nhs.uk/STU3/Organization/Y12345\",",
											"            \"type\": \"Organization\"",
											"        }",
											"    ],",
											"    \"id\": \"9000000009\",",
											"    \"identifier\": [",
											"        {",
											"            \"extension\": [",
											"                {",
											"                    \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-NHSNumberVerificationStatus\",",
											"                    \"valueCodeableConcept\": {",
											"                        \"coding\": [",
											"                            {",
											"                                \"code\": \"01\",",
											"                                \"display\": \"Number present and verified\",",
											"                                \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-NHSNumberVerificationStatus\",",
											"                                \"version\": \"1.0.0\"",
											"                            }",
											"                        ]",
											"                    }",
											"                }",
											"            ],",
											"            \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",",
											"            \"value\": \"9000000009\"",
											"        }",
											"    ],",
											"    \"meta\": {",
											"        \"security\": [",
											"            {",
											"                \"code\": \"U\",",
											"                \"display\": \"unrestricted\",",
											"                \"system\": \"https://www.hl7.org/fhir/valueset-security-labels.html\"",
											"            }",
											"        ],",
											"        \"versionId\": 3",
											"    },",
											"    \"multipleBirthInteger\": 1,",
											"    \"name\": [",
											"        {",
											"            \"id\": \"123\",",
											"            \"use\": \"usual\",",
											"            \"period\": {",
											"                \"start\": \"2020-01-01\",",
											"                \"end\": \"2021-12-31\"",
											"            },",
											"            \"given\": [",
											"                \"James\"",
											"            ],",
											"            \"family\": \"Smith\",",
											"            \"prefix\": [",
											"                \"Mr\"",
											"            ],",
											"            \"suffix\": [",
											"                \"MBE\"",
											"            ]",
											"        }",
											"    ],",
											"    \"resourceType\": \"Patient\",",
											"    \"telecom\": [",
											"        {",
											"            \"id\": \"789\",",
											"            \"period\": {",
											"                \"end\": \"2021-12-31\",",
											"                \"start\": \"2020-01-01\"",
											"            },",
											"            \"system\": \"phone\",",
											"            \"use\": \"work\",",
											"            \"value\": \"01632960587\"",
											"        },",
											"        {",
											"            \"extension\": [",
											"                {",
											"                    \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-OtherContactSystem\",",
											"                    \"valueCoding\": {",
											"                        \"code\": \"textphone\",",
											"                        \"display\": \"Minicom (Textphone)\",",
											"                        \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-OtherContactSystem\"",
											"                    }",
											"                }",
											"            ],",
											"            \"id\": \"OC789\",",
											"            \"period\": {",
											"                \"end\": \"2021-12-31\",",
											"                \"start\": \"2020-01-01\"",
											"            },",
											"            \"system\": \"other\",",
											"            \"use\": \"work\",",
											"            \"value\": \"01632960587\"",
											"        }",
											"    ]",
											"}",
											"",
											"pm.environment.set(\"expected_response\", expected_response);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{environment}}/_poll/{{polling_id}}",
									"host": [
										"{{environment}}"
									],
									"path": [
										"_poll",
										"{{polling_id}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "Update: Add Contact Preferences to minimal patient",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "8da19d6c-fa16-4d06-9147-cef74d6b7f97",
										"exec": [
											"",
											"var messageId = pm.response.headers.get(\"content-location\").replace(\"/_poll/\", \"\")",
											"pm.environment.set(\"polling_id\", messageId)",
											"",
											"pm.test(\"Returns status code 202 Accepted\", function () {",
											"    pm.response.to.have.status(202);",
											"});",
											"",
											"pm.test(\"Returns retry-after header\", function () {",
											"    pm.response.to.have.header(\"retry-after\", \"100\");",
											"});",
											"",
											"pm.test(\"Mirrors X-Request-ID\", function () {",
											"    pm.response.to.have.header(\"x-request-id\", pm.environment.get(\"request_id\"));",
											"});",
											"",
											"pm.test(\"X-Correlation-ID not mirrored when not present\", function () {",
											"    pm.response.to.not.have.header(\"x-correlation-id\");",
											"});",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "de681c68-5a9f-46fa-96b1-16394a97a18e",
										"exec": [
											"var expected_response =",
											"{",
											"    \"address\": [",
											"        {",
											"            \"extension\": [",
											"                {",
											"                    \"extension\": [",
											"                        {",
											"                            \"url\": \"type\",",
											"                            \"valueCoding\": {",
											"                                \"code\": \"PAF\",",
											"                                \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-AddressKeyType\"",
											"                            }",
											"                        },",
											"                        {",
											"                            \"url\": \"value\",",
											"                            \"valueString\": \"12345678\"",
											"                        }",
											"                    ],",
											"                    \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-AddressKey\"",
											"                }",
											"            ],",
											"            \"id\": \"456\",",
											"            \"line\": [",
											"                \"1 Trevelyan Square\",",
											"                \"Boar Lane\",",
											"                \"City Centre\",",
											"                \"Leeds\",",
											"                \"West Yorkshire\"",
											"            ],",
											"            \"period\": {",
											"                \"end\": \"2021-12-31\",",
											"                \"start\": \"2020-01-01\"",
											"            },",
											"            \"postalCode\": \"LS1 6AE\",",
											"            \"use\": \"home\"",
											"        }",
											"    ],",
											"    \"birthDate\": \"2010-10-22\",",
											"    \"contact\": [",
											"        {",
											"            \"id\": \"C123\",",
											"            \"period\": {",
											"                \"end\": \"2021-12-31\",",
											"                \"start\": \"2020-01-01\"",
											"            },",
											"            \"relationship\": [",
											"                {",
											"                    \"coding\": [",
											"                        {",
											"                            \"code\": \"C\",",
											"                            \"display\": \"Emergency Contact\",",
											"                            \"system\": \"http://terminology.hl7.org/CodeSystem/v2-0131\"",
											"                        }",
											"                    ]",
											"                }",
											"            ],",
											"            \"telecom\": [",
											"                {",
											"                    \"system\": \"phone\",",
											"                    \"value\": \"01632960587\"",
											"                }",
											"            ]",
											"        }",
											"    ],",
											"    \"deceasedDateTime\": \"2010-10-22T00:00:00+00:00\",",
											"    \"extension\": [",
											"        {",
											"            \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-NominatedPharmacy\",",
											"            \"valueReference\": {",
											"                \"identifier\": {",
											"                    \"period\": {",
											"                        \"end\": \"2021-12-31\",",
											"                        \"start\": \"2020-01-01\"",
											"                    },",
											"                    \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",",
											"                    \"value\": \"Y12345\"",
											"                },",
											"                \"reference\": \"https://directory.spineservices.nhs.uk/STU3/Organization/Y12345\"",
											"            }",
											"        },",
											"        {",
											"            \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-PreferredDispenserOrganization\",",
											"            \"valueReference\": {",
											"                \"identifier\": {",
											"                    \"period\": {",
											"                        \"end\": \"2021-12-31\",",
											"                        \"start\": \"2020-01-01\"",
											"                    },",
											"                    \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",",
											"                    \"value\": \"Y23456\"",
											"                },",
											"                \"reference\": \"https://directory.spineservices.nhs.uk/STU3/Organization/Y23456\"",
											"            }",
											"        },",
											"        {",
											"            \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-MedicalApplianceSupplier\",",
											"            \"valueReference\": {",
											"                \"identifier\": {",
											"                    \"period\": {",
											"                        \"end\": \"2021-12-31\",",
											"                        \"start\": \"2020-01-01\"",
											"                    },",
											"                    \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",",
											"                    \"value\": \"Y34567\"",
											"                },",
											"                \"reference\": \"https://directory.spineservices.nhs.uk/STU3/Organization/Y34567\"",
											"            }",
											"        },",
											"        {",
											"            \"extension\": [",
											"                {",
											"                    \"url\": \"deathNotificationStatus\",",
											"                    \"valueCodeableConcept\": {",
											"                        \"coding\": [",
											"                            {",
											"                                \"code\": \"2\",",
											"                                \"display\": \"Formal - death notice received from Registrar of Deaths\",",
											"                                \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-DeathNotificationStatus\",",
											"                                \"version\": \"1.0.0\"",
											"                            }",
											"                        ]",
											"                    }",
											"                },",
											"                {",
											"                    \"url\": \"systemEffectiveDate\",",
											"                    \"valueDateTime\": \"2010-10-22T00:00:00+00:00\"",
											"                }",
											"            ],",
											"            \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-DeathNotificationStatus\"",
											"        },",
											"        {",
											"            \"extension\": [",
											"                {",
											"                    \"url\": \"language\",",
											"                    \"valueCodeableConcept\": {",
											"                        \"coding\": [",
											"                            {",
											"                                \"code\": \"fr\",",
											"                                \"display\": \"French\",",
											"                                \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-HumanLanguage\",",
											"                                \"version\": \"1.0.0\"",
											"                            }",
											"                        ]",
											"                    }",
											"                },",
											"                {",
											"                    \"url\": \"interpreterRequired\",",
											"                    \"valueBoolean\": true",
											"                }",
											"            ],",
											"            \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-NHSCommunication\"",
											"        },",
											"        {",
											"            \"extension\": [",
											"                {",
											"                    \"url\": \"PreferredWrittenCommunicationFormat\",",
											"                    \"valueCodeableConcept\": {",
											"                        \"coding\": [",
											"                            {",
											"                                \"code\": \"12\",",
											"                                \"display\": \"Braille\",",
											"                                \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-PreferredWrittenCommunicationFormat\"",
											"                            }",
											"                        ]",
											"                    }",
											"                },",
											"                {",
											"                    \"url\": \"PreferredContactMethod\",",
											"                    \"valueCodeableConcept\": {",
											"                        \"coding\": [",
											"                            {",
											"                                \"code\": \"1\",",
											"                                \"display\": \"Letter\",",
											"                                \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-PreferredContactMethod\"",
											"                            }",
											"                        ]",
											"                    }",
											"                },",
											"                {",
											"                    \"url\": \"PreferredContactTimes\",",
											"                    \"valueString\": \"Not after 7pm\"",
											"                }",
											"            ],",
											"            \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-ContactPreference\"",
											"        },",
											"        {",
											"            \"url\": \"http://hl7.org/fhir/StructureDefinition/patient-birthPlace\",",
											"            \"valueAddress\": {",
											"                \"city\": \"Manchester\",",
											"                \"country\": \"GBR\",",
											"                \"district\": \"Greater Manchester\"",
											"            }",
											"        }",
											"    ],",
											"    \"gender\": \"female\",",
											"    \"generalPractitioner\": [",
											"        {",
											"            \"id\": \"254406A3\",",
											"            \"identifier\": {",
											"                \"period\": {",
											"                    \"end\": \"2021-12-31\",",
											"                    \"start\": \"2020-01-01\"",
											"                },",
											"                \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",",
											"                \"value\": \"Y12345\"",
											"            },",
											"            \"reference\": \"https://directory.spineservices.nhs.uk/STU3/Organization/Y12345\",",
											"            \"type\": \"Organization\"",
											"        }",
											"    ],",
											"    \"id\": \"9000000009\",",
											"    \"identifier\": [",
											"        {",
											"            \"extension\": [",
											"                {",
											"                    \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-NHSNumberVerificationStatus\",",
											"                    \"valueCodeableConcept\": {",
											"                        \"coding\": [",
											"                            {",
											"                                \"code\": \"01\",",
											"                                \"display\": \"Number present and verified\",",
											"                                \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-NHSNumberVerificationStatus\",",
											"                                \"version\": \"1.0.0\"",
											"                            }",
											"                        ]",
											"                    }",
											"                }",
											"            ],",
											"            \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",",
											"            \"value\": \"9000000009\"",
											"        }",
											"    ],",
											"    \"meta\": {",
											"        \"security\": [",
											"            {",
											"                \"code\": \"U\",",
											"                \"display\": \"unrestricted\",",
											"                \"system\": \"https://www.hl7.org/fhir/valueset-security-labels.html\"",
											"            }",
											"        ],",
											"        \"versionId\": 3",
											"    },",
											"    \"multipleBirthInteger\": 1,",
											"    \"name\": [",
											"        {",
											"            \"id\": \"123\",",
											"            \"use\": \"usual\",",
											"            \"period\": {",
											"                \"start\": \"2020-01-01\",",
											"                \"end\": \"2021-12-31\"",
											"            },",
											"            \"given\": [",
											"                \"James\"",
											"            ],",
											"            \"family\": \"Smith\",",
											"            \"prefix\": [",
											"                \"Mr\"",
											"            ],",
											"            \"suffix\": [",
											"                \"MBE\"",
											"            ]",
											"        }",
											"    ],",
											"    \"resourceType\": \"Patient\",",
											"    \"telecom\": [",
											"        {",
											"            \"id\": \"789\",",
											"            \"period\": {",
											"                \"end\": \"2021-12-31\",",
											"                \"start\": \"2020-01-01\"",
											"            },",
											"            \"system\": \"phone\",",
											"            \"use\": \"work\",",
											"            \"value\": \"01632960587\"",
											"        },",
											"        {",
											"            \"extension\": [",
											"                {",
											"                    \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-OtherContactSystem\",",
											"                    \"valueCoding\": {",
											"                        \"code\": \"textphone\",",
											"                        \"display\": \"Minicom (Textphone)\",",
											"                        \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-OtherContactSystem\"",
											"                    }",
											"                }",
											"            ],",
											"            \"id\": \"OC789\",",
											"            \"period\": {",
											"                \"end\": \"2021-12-31\",",
											"                \"start\": \"2020-01-01\"",
											"            },",
											"            \"system\": \"other\",",
											"            \"use\": \"work\",",
											"            \"value\": \"01632960587\"",
											"        }",
											"    ]",
											"}",
											"",
											"pm.environment.set(\"expected_response\", expected_response);",
											"",
											"var uuid = require(\"uuid\");",
											"pm.environment.set(\"request_id\", uuid.v4());"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PATCH",
								"header": [
									{
										"key": "Content-Type",
										"type": "text",
										"value": "application/json-patch+json"
									},
									{
										"key": "If-Match",
										"type": "text",
										"value": "W/\"2\""
									},
									{
										"key": "X-Request-ID",
										"value": "{{request_id}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"patches\": [\n    {\n      \"op\": \"add\",\n      \"path\": \"/extension/-\",\n      \"value\": {\n        \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-ContactPreference\",\n        \"extension\": [\n          {\n            \"url\": \"PreferredContactMethod\",\n            \"valueCodeableConcept\": {\n              \"coding\": [\n                {\n                  \"code\": \"4\",\n                  \"display\": \"E-mail\",\n                  \"system\": \"https://fhir.nhs.uk/R4/ValueSet/UKCore-PreferredContactMethod\"\n                }\n              ]\n            }\n          },\n          {\n            \"url\": \"PreferredContactTimes\",\n            \"valueString\": \"12:00\"\n          },\n          {\n            \"url\": \"PreferredWrittenCommunicationFormat\",\n            \"valueCodeableConcept\": {\n              \"coding\": [\n                {\n                  \"code\": \"13\",\n                  \"display\": \"Audio tape\",\n                  \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-PreferredWrittenCommunicationFormat\"\n                }\n              ]\n            }\n          }\n        ]\n      }\n    }\n  ]\n}",
									"options": {
										"raw": {}
									}
								},
								"url": {
									"raw": "{{environment}}/Patient/9000000033",
									"host": [
										"{{environment}}"
									],
									"path": [
										"Patient",
										"9000000033"
									]
								}
							},
							"response": []
						},
						{
							"name": "Update: Poll Message Id from Contact Preferences",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "04890618-4748-4535-9f82-d6d141ce89ac",
										"exec": [
											"var response = pm.response.json();",
											"    ",
											"",
											"pm.test(\"Returns status code 200 OK\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(\"Returns correct etag header\", function () {",
											"    pm.response.to.have.header(\"etag\", \"W/\\\"3\\\"\");",
											"});",
											"",
											"pm.test(\"Returns correct canned response\", () =>{",
											"    var expected = JSON.stringify(pm.environment.get(\"expected_response\"));",
											"    var actual = JSON.stringify(response);",
											"    pm.expect(actual).to.eql(expected);",
											"});",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "a1a0e4ef-3ea7-4f3b-8dde-8cbdc3066edc",
										"exec": [
											"var expected_response =",
											"{",
											"    \"id\": \"9000000033\",",
											"    \"identifier\": [",
											"        {",
											"            \"extension\": [",
											"                {",
											"                    \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-NHSNumberVerificationStatus\",",
											"                    \"valueCodeableConcept\": {",
											"                        \"coding\": [",
											"                            {",
											"                                \"code\": \"01\",",
											"                                \"display\": \"Number present and verified\",",
											"                                \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-NHSNumberVerificationStatus\",",
											"                                \"version\": \"1.0.0\"",
											"                            }",
											"                        ]",
											"                    }",
											"                }",
											"            ],",
											"            \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",",
											"            \"value\": \"9000000033\"",
											"        }",
											"    ],",
											"    \"meta\": {",
											"        \"security\": [",
											"            {",
											"                \"code\": \"U\",",
											"                \"display\": \"unrestricted\",",
											"                \"system\": \"https://www.hl7.org/fhir/valueset-security-labels.html\"",
											"            }",
											"        ],",
											"        \"versionId\": 3",
											"    },",
											"    \"resourceType\": \"Patient\",",
											"    \"extension\": [",
											"        {",
											"            \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-ContactPreference\",",
											"            \"extension\": [",
											"                {",
											"                    \"url\": \"PreferredContactMethod\",",
											"                    \"valueCodeableConcept\": {",
											"                        \"coding\": [",
											"                            {",
											"                                \"code\": \"4\",",
											"                                \"display\": \"E-mail\",",
											"                                \"system\": \"https://fhir.nhs.uk/R4/ValueSet/UKCore-PreferredContactMethod\"",
											"                            }",
											"                        ]",
											"                    }",
											"                },",
											"                {",
											"                    \"url\": \"PreferredContactTimes\",",
											"                    \"valueString\": \"12:00\"",
											"                },",
											"                {",
											"                    \"url\": \"PreferredWrittenCommunicationFormat\",",
											"                    \"valueCodeableConcept\": {",
											"                        \"coding\": [",
											"                            {",
											"                                \"code\": \"13\",",
											"                                \"display\": \"Audio tape\",",
											"                                \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-PreferredWrittenCommunicationFormat\"",
											"                            }",
											"                        ]",
											"                    }",
											"                }",
											"            ]",
											"        }",
											"    ]",
											"}",
											"",
											"pm.environment.set(\"expected_response\", expected_response);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{environment}}/_poll/{{polling_id}}",
									"host": [
										"{{environment}}"
									],
									"path": [
										"_poll",
										"{{polling_id}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "Update: Add Name to minimal patient",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "83b7b89b-5e99-4e93-b01d-5b3ccaef653c",
										"exec": [
											"",
											"var messageId = pm.response.headers.get(\"content-location\").replace(\"/_poll/\", \"\")",
											"pm.environment.set(\"polling_id\", messageId)",
											"",
											"pm.test(\"Returns status code 202 Accepted\", function () {",
											"    pm.response.to.have.status(202);",
											"});",
											"",
											"pm.test(\"Returns retry-after header\", function () {",
											"    pm.response.to.have.header(\"retry-after\", \"100\");",
											"});",
											"",
											"pm.test(\"Mirrors X-Request-ID\", function () {",
											"    pm.response.to.have.header(\"x-request-id\", pm.environment.get(\"request_id\"));",
											"});",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "5ca82969-ae03-4d11-b94b-809e5ee68e9c",
										"exec": [
											"var expected_response =",
											"{",
											"    \"address\": [",
											"        {",
											"            \"extension\": [",
											"                {",
											"                    \"extension\": [",
											"                        {",
											"                            \"url\": \"type\",",
											"                            \"valueCoding\": {",
											"                                \"code\": \"PAF\",",
											"                                \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-AddressKeyType\"",
											"                            }",
											"                        },",
											"                        {",
											"                            \"url\": \"value\",",
											"                            \"valueString\": \"12345678\"",
											"                        }",
											"                    ],",
											"                    \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-AddressKey\"",
											"                }",
											"            ],",
											"            \"id\": \"456\",",
											"            \"line\": [",
											"                \"1 Trevelyan Square\",",
											"                \"Boar Lane\",",
											"                \"City Centre\",",
											"                \"Leeds\",",
											"                \"West Yorkshire\"",
											"            ],",
											"            \"period\": {",
											"                \"end\": \"2021-12-31\",",
											"                \"start\": \"2020-01-01\"",
											"            },",
											"            \"postalCode\": \"LS1 6AE\",",
											"            \"use\": \"home\"",
											"        }",
											"    ],",
											"    \"birthDate\": \"2010-10-22\",",
											"    \"contact\": [",
											"        {",
											"            \"id\": \"C123\",",
											"            \"period\": {",
											"                \"end\": \"2021-12-31\",",
											"                \"start\": \"2020-01-01\"",
											"            },",
											"            \"relationship\": [",
											"                {",
											"                    \"coding\": [",
											"                        {",
											"                            \"code\": \"C\",",
											"                            \"display\": \"Emergency Contact\",",
											"                            \"system\": \"http://terminology.hl7.org/CodeSystem/v2-0131\"",
											"                        }",
											"                    ]",
											"                }",
											"            ],",
											"            \"telecom\": [",
											"                {",
											"                    \"system\": \"phone\",",
											"                    \"value\": \"01632960587\"",
											"                }",
											"            ]",
											"        }",
											"    ],",
											"    \"deceasedDateTime\": \"2010-10-22T00:00:00+00:00\",",
											"    \"extension\": [",
											"        {",
											"            \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-NominatedPharmacy\",",
											"            \"valueReference\": {",
											"                \"identifier\": {",
											"                    \"period\": {",
											"                        \"end\": \"2021-12-31\",",
											"                        \"start\": \"2020-01-01\"",
											"                    },",
											"                    \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",",
											"                    \"value\": \"Y12345\"",
											"                },",
											"                \"reference\": \"https://directory.spineservices.nhs.uk/STU3/Organization/Y12345\"",
											"            }",
											"        },",
											"        {",
											"            \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-PreferredDispenserOrganization\",",
											"            \"valueReference\": {",
											"                \"identifier\": {",
											"                    \"period\": {",
											"                        \"end\": \"2021-12-31\",",
											"                        \"start\": \"2020-01-01\"",
											"                    },",
											"                    \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",",
											"                    \"value\": \"Y23456\"",
											"                },",
											"                \"reference\": \"https://directory.spineservices.nhs.uk/STU3/Organization/Y23456\"",
											"            }",
											"        },",
											"        {",
											"            \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-MedicalApplianceSupplier\",",
											"            \"valueReference\": {",
											"                \"identifier\": {",
											"                    \"period\": {",
											"                        \"end\": \"2021-12-31\",",
											"                        \"start\": \"2020-01-01\"",
											"                    },",
											"                    \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",",
											"                    \"value\": \"Y34567\"",
											"                },",
											"                \"reference\": \"https://directory.spineservices.nhs.uk/STU3/Organization/Y34567\"",
											"            }",
											"        },",
											"        {",
											"            \"extension\": [",
											"                {",
											"                    \"url\": \"deathNotificationStatus\",",
											"                    \"valueCodeableConcept\": {",
											"                        \"coding\": [",
											"                            {",
											"                                \"code\": \"2\",",
											"                                \"display\": \"Formal - death notice received from Registrar of Deaths\",",
											"                                \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-DeathNotificationStatus\",",
											"                                \"version\": \"1.0.0\"",
											"                            }",
											"                        ]",
											"                    }",
											"                },",
											"                {",
											"                    \"url\": \"systemEffectiveDate\",",
											"                    \"valueDateTime\": \"2010-10-22T00:00:00+00:00\"",
											"                }",
											"            ],",
											"            \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-DeathNotificationStatus\"",
											"        },",
											"        {",
											"            \"extension\": [",
											"                {",
											"                    \"url\": \"language\",",
											"                    \"valueCodeableConcept\": {",
											"                        \"coding\": [",
											"                            {",
											"                                \"code\": \"fr\",",
											"                                \"display\": \"French\",",
											"                                \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-HumanLanguage\",",
											"                                \"version\": \"1.0.0\"",
											"                            }",
											"                        ]",
											"                    }",
											"                },",
											"                {",
											"                    \"url\": \"interpreterRequired\",",
											"                    \"valueBoolean\": true",
											"                }",
											"            ],",
											"            \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-NHSCommunication\"",
											"        },",
											"        {",
											"            \"extension\": [",
											"                {",
											"                    \"url\": \"PreferredWrittenCommunicationFormat\",",
											"                    \"valueCodeableConcept\": {",
											"                        \"coding\": [",
											"                            {",
											"                                \"code\": \"12\",",
											"                                \"display\": \"Braille\",",
											"                                \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-PreferredWrittenCommunicationFormat\"",
											"                            }",
											"                        ]",
											"                    }",
											"                },",
											"                {",
											"                    \"url\": \"PreferredContactMethod\",",
											"                    \"valueCodeableConcept\": {",
											"                        \"coding\": [",
											"                            {",
											"                                \"code\": \"1\",",
											"                                \"display\": \"Letter\",",
											"                                \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-PreferredContactMethod\"",
											"                            }",
											"                        ]",
											"                    }",
											"                },",
											"                {",
											"                    \"url\": \"PreferredContactTimes\",",
											"                    \"valueString\": \"Not after 7pm\"",
											"                }",
											"            ],",
											"            \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-ContactPreference\"",
											"        },",
											"        {",
											"            \"url\": \"http://hl7.org/fhir/StructureDefinition/patient-birthPlace\",",
											"            \"valueAddress\": {",
											"                \"city\": \"Manchester\",",
											"                \"country\": \"GBR\",",
											"                \"district\": \"Greater Manchester\"",
											"            }",
											"        }",
											"    ],",
											"    \"gender\": \"female\",",
											"    \"generalPractitioner\": [",
											"        {",
											"            \"id\": \"254406A3\",",
											"            \"identifier\": {",
											"                \"period\": {",
											"                    \"end\": \"2021-12-31\",",
											"                    \"start\": \"2020-01-01\"",
											"                },",
											"                \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",",
											"                \"value\": \"Y12345\"",
											"            },",
											"            \"reference\": \"https://directory.spineservices.nhs.uk/STU3/Organization/Y12345\",",
											"            \"type\": \"Organization\"",
											"        }",
											"    ],",
											"    \"id\": \"9000000009\",",
											"    \"identifier\": [",
											"        {",
											"            \"extension\": [",
											"                {",
											"                    \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-NHSNumberVerificationStatus\",",
											"                    \"valueCodeableConcept\": {",
											"                        \"coding\": [",
											"                            {",
											"                                \"code\": \"01\",",
											"                                \"display\": \"Number present and verified\",",
											"                                \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-NHSNumberVerificationStatus\",",
											"                                \"version\": \"1.0.0\"",
											"                            }",
											"                        ]",
											"                    }",
											"                }",
											"            ],",
											"            \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",",
											"            \"value\": \"9000000009\"",
											"        }",
											"    ],",
											"    \"meta\": {",
											"        \"security\": [",
											"            {",
											"                \"code\": \"U\",",
											"                \"display\": \"unrestricted\",",
											"                \"system\": \"https://www.hl7.org/fhir/valueset-security-labels.html\"",
											"            }",
											"        ],",
											"        \"versionId\": 3",
											"    },",
											"    \"multipleBirthInteger\": 1,",
											"    \"name\": [",
											"        {",
											"            \"id\": \"123\",",
											"            \"use\": \"usual\",",
											"            \"period\": {",
											"                \"start\": \"2020-01-01\",",
											"                \"end\": \"2021-12-31\"",
											"            },",
											"            \"given\": [",
											"                \"James\"",
											"            ],",
											"            \"family\": \"Smith\",",
											"            \"prefix\": [",
											"                \"Mr\"",
											"            ],",
											"            \"suffix\": [",
											"                \"MBE\"",
											"            ]",
											"        }",
											"    ],",
											"    \"resourceType\": \"Patient\",",
											"    \"telecom\": [",
											"        {",
											"            \"id\": \"789\",",
											"            \"period\": {",
											"                \"end\": \"2021-12-31\",",
											"                \"start\": \"2020-01-01\"",
											"            },",
											"            \"system\": \"phone\",",
											"            \"use\": \"work\",",
											"            \"value\": \"01632960587\"",
											"        },",
											"        {",
											"            \"extension\": [",
											"                {",
											"                    \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-OtherContactSystem\",",
											"                    \"valueCoding\": {",
											"                        \"code\": \"textphone\",",
											"                        \"display\": \"Minicom (Textphone)\",",
											"                        \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-OtherContactSystem\"",
											"                    }",
											"                }",
											"            ],",
											"            \"id\": \"OC789\",",
											"            \"period\": {",
											"                \"end\": \"2021-12-31\",",
											"                \"start\": \"2020-01-01\"",
											"            },",
											"            \"system\": \"other\",",
											"            \"use\": \"work\",",
											"            \"value\": \"01632960587\"",
											"        }",
											"    ]",
											"}",
											"",
											"pm.environment.set(\"expected_response\", expected_response);",
											"",
											"var uuid = require(\"uuid\");",
											"pm.environment.set(\"request_id\", uuid.v4());"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PATCH",
								"header": [
									{
										"key": "Content-Type",
										"type": "text",
										"value": "application/json-patch+json"
									},
									{
										"key": "If-Match",
										"type": "text",
										"value": "W/\"2\""
									},
									{
										"key": "X-Request-ID",
										"value": "{{request_id}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"patches\": [\n      {\n            \"op\": \"add\",\n            \"path\": \"/name/-\",\n            \"value\": {\n                \"use\": \"usual\",\n                \"period\": { \"start\": \"2019-12-31\" },\n                \"prefix\": [\"Dr\"],\n                \"given\": [\n                  \"Joe\",\n                  \"Horation\",\n                  \"Maximus\"\n                ],\n                \"family\": \"Bloggs\",\n                \"suffix\": [\"PhD\"]\n            }\n        }\n  ]\n}\n",
									"options": {
										"raw": {}
									}
								},
								"url": {
									"raw": "{{environment}}/Patient/9000000033",
									"host": [
										"{{environment}}"
									],
									"path": [
										"Patient",
										"9000000033"
									]
								}
							},
							"response": []
						},
						{
							"name": "Update: Poll Message Id from Name addition",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "196b41a5-060a-480b-ba01-fc45818199df",
										"exec": [
											"var response = pm.response.json();",
											"    ",
											"",
											"pm.test(\"Returns status code 200 OK\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(\"Returns correct etag header\", function () {",
											"    pm.response.to.have.header(\"etag\", \"W/\\\"3\\\"\");",
											"});",
											"",
											"pm.test(\"Returns correct canned response\", () =>{",
											"    var expected = JSON.stringify(pm.environment.get(\"expected_response\"));",
											"    var actual = JSON.stringify(response);",
											"    pm.expect(actual).to.eql(expected);",
											"});",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "d3a082ac-8006-413a-98aa-61512528e756",
										"exec": [
											"var expected_response =",
											"{",
											"    \"id\": \"9000000033\",",
											"    \"identifier\": [",
											"        {",
											"            \"extension\": [",
											"                {",
											"                    \"url\": \"https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-NHSNumberVerificationStatus\",",
											"                    \"valueCodeableConcept\": {",
											"                        \"coding\": [",
											"                            {",
											"                                \"code\": \"01\",",
											"                                \"display\": \"Number present and verified\",",
											"                                \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/UKCore-NHSNumberVerificationStatus\",",
											"                                \"version\": \"1.0.0\"",
											"                            }",
											"                        ]",
											"                    }",
											"                }",
											"            ],",
											"            \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",",
											"            \"value\": \"9000000033\"",
											"        }",
											"    ],",
											"    \"meta\": {",
											"        \"security\": [",
											"            {",
											"                \"code\": \"U\",",
											"                \"display\": \"unrestricted\",",
											"                \"system\": \"https://www.hl7.org/fhir/valueset-security-labels.html\"",
											"            }",
											"        ],",
											"        \"versionId\": 3",
											"    },",
											"    \"resourceType\": \"Patient\",",
											"    \"name\": [",
											"        {",
											"            \"use\": \"usual\",",
											"            \"period\": {",
											"                \"start\": \"2019-12-31\"",
											"            },",
											"            \"prefix\": [",
											"                \"Dr\"",
											"            ],",
											"            \"given\": [",
											"                \"Joe\",",
											"                \"Horation\",",
											"                \"Maximus\"",
											"            ],",
											"            \"family\": \"Bloggs\",",
											"            \"suffix\": [",
											"                \"PhD\"",
											"            ]",
											"        }",
											"    ]",
											"}",
											"",
											"pm.environment.set(\"expected_response\", expected_response);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{environment}}/_poll/{{polling_id}}",
									"host": [
										"{{environment}}"
									],
									"path": [
										"_poll",
										"{{polling_id}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "Update: Patient does not exist",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "fe56c4f2-5ea5-4a70-ac75-9f169cd902d7",
										"exec": [
											"var response = pm.response.json();",
											"    ",
											"",
											"pm.test(\"Returns status code 404 Not Found\", function () {",
											"    pm.response.to.have.status(404);",
											"});",
											"",
											"pm.test(\"Returns correct canned response\", () =>{",
											"    var expected = JSON.stringify(pm.environment.get(\"expected_response\"));",
											"    var actual = JSON.stringify(response);",
											"    pm.expect(actual).to.eql(expected);",
											"});",
											"",
											"pm.test(\"Mirrors X-Request-ID\", function () {",
											"    pm.response.to.have.header(\"x-request-id\", pm.environment.get(\"request_id\"));",
											"});",
											"",
											"pm.test(\"Mirrors X-Correlation-ID\", function () {",
											"    pm.response.to.have.header(\"x-correlation-id\", pm.environment.get(\"correlation_id\"));",
											"});",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "7a8f5932-9136-4fb7-b907-1eb6c12e6b6e",
										"exec": [
											"var uuid = require(\"uuid\");",
											"pm.environment.set(\"request_id\", uuid.v4());",
											"pm.environment.set(\"correlation_id\", \"POSTMAN_123\")",
											"",
											"var expected_response =",
											"{",
											"    \"resourceType\": \"OperationOutcome\",",
											"    \"issue\": [",
											"        {",
											"            \"severity\": \"error\",",
											"            \"code\": \"not_found\",",
											"            \"details\": {",
											"                \"coding\": [",
											"                    {",
											"                        \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/Spine-ErrorOrWarningCode\",",
											"                        \"version\": \"1\",",
											"                        \"code\": \"RESOURCE_NOT_FOUND\",",
											"                        \"display\": \"Resource not found\"",
											"                    }",
											"                ]",
											"            }",
											"        }",
											"    ]",
											"}",
											"",
											"pm.environment.set(\"expected_response\", expected_response);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PATCH",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json-patch+json",
										"type": "text"
									},
									{
										"key": "If-Match",
										"value": "W/\"2\"",
										"type": "text"
									},
									{
										"key": "X-Request-ID",
										"value": "{{request_id}}",
										"type": "text"
									},
									{
										"key": "X-Correlation-ID",
										"value": "{{correlation_id}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"patches\": [\n        {\n            \"op\": \"replace\",\n            \"path\": \"/name/0\",\n            \"value\": {\n                \"id\": \"123\",\n                \"use\": \"usual\",\n                \"period\": {\n                    \"start\": \"2020-01-01\",\n                    \"end\": \"2021-12-31\"\n                },\n                \"given\": [\n                    \"James\"\n                ],\n                \"family\": \"Smith\",\n                \"prefix\": [\n                    \"Mr\"\n                ],\n                \"suffix\": [\n                    \"MBE\"\n                ]\n            }\n        }\n    ]\n}",
									"options": {
										"raw": {}
									}
								},
								"url": {
									"raw": "{{environment}}/Patient/9111231130",
									"host": [
										"{{environment}}"
									],
									"path": [
										"Patient",
										"9111231130"
									]
								}
							},
							"response": []
						},
						{
							"name": "Update: Invalid NHS Number",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "74fc2adb-d445-4651-aa76-df77f13eac6c",
										"exec": [
											"var response = pm.response.json();",
											"    ",
											"",
											"pm.test(\"Returns status code 400 Bad Request\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"",
											"pm.test(\"Returns correct canned response\", () =>{",
											"    var expected = JSON.stringify(pm.environment.get(\"expected_response\"));",
											"    var actual = JSON.stringify(response);",
											"    pm.expect(actual).to.eql(expected);",
											"});",
											"",
											"pm.test(\"Mirrors X-Request-ID\", function () {",
											"    pm.response.to.have.header(\"x-request-id\", pm.environment.get(\"request_id\"));",
											"});",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "b47620c2-d4aa-4589-a862-95313a6d606b",
										"exec": [
											"var uuid = require(\"uuid\");",
											"pm.environment.set(\"request_id\", uuid.v4());",
											"",
											"var expected_response =",
											"{",
											"    \"resourceType\": \"OperationOutcome\",",
											"    \"issue\": [",
											"        {",
											"            \"severity\": \"error\",",
											"            \"code\": \"value\",",
											"            \"details\": {",
											"                \"coding\": [",
											"                    {",
											"                        \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/Spine-ErrorOrWarningCode\",",
											"                        \"version\": \"1\",",
											"                        \"code\": \"INVALID_RESOURCE_ID\",",
											"                        \"display\": \"Resource Id is invalid\"",
											"                    }",
											"                ]",
											"            }",
											"        }",
											"    ]",
											"}",
											"",
											"pm.environment.set(\"expected_response\", expected_response);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PATCH",
								"header": [
									{
										"key": "Content-Type",
										"type": "text",
										"value": "application/json-patch+json"
									},
									{
										"key": "If-Match",
										"type": "text",
										"value": "W/\"2\""
									},
									{
										"key": "X-Request-ID",
										"value": "{{request_id}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"patches\": [\n        {\n            \"op\": \"replace\",\n            \"path\": \"/name/0\",\n            \"value\": {\n                \"id\": \"123\",\n                \"use\": \"usual\",\n                \"period\": {\n                    \"start\": \"2020-01-01\",\n                    \"end\": \"2021-12-31\"\n                },\n                \"given\": [\n                    \"James\"\n                ],\n                \"family\": \"Smith\",\n                \"prefix\": [\n                    \"Mr\"\n                ],\n                \"suffix\": [\n                    \"MBE\"\n                ]\n            }\n        }\n    ]\n}",
									"options": {
										"raw": {}
									}
								},
								"url": {
									"raw": "{{environment}}/Patient/9000000000",
									"host": [
										"{{environment}}"
									],
									"path": [
										"Patient",
										"9000000000"
									]
								}
							},
							"response": []
						},
						{
							"name": "Update: Missing If-Match Header",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "842c8b2c-84e6-40e8-ad6e-6dd9024f2b6a",
										"exec": [
											"var response = pm.response.json();",
											"    ",
											"",
											"pm.test(\"Returns status code 412 Precondition failed\", function () {",
											"    pm.response.to.have.status(412);",
											"});",
											"",
											"pm.test(\"Returns correct canned response\", () =>{",
											"    var expected = JSON.stringify(pm.environment.get(\"expected_response\"));",
											"    var actual = JSON.stringify(response);",
											"    pm.expect(actual).to.eql(expected);",
											"});",
											"",
											"pm.test(\"Mirrors X-Request-ID\", function () {",
											"    pm.response.to.have.header(\"x-request-id\", pm.environment.get(\"request_id\"));",
											"});",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "97d125a5-fd50-4e2e-ae96-db26a5386d34",
										"exec": [
											"var uuid = require(\"uuid\");",
											"pm.environment.set(\"request_id\", uuid.v4());",
											"",
											"var expected_response =",
											"{",
											"    \"resourceType\": \"OperationOutcome\",",
											"    \"issue\": [",
											"        {",
											"            \"severity\": \"error\",",
											"            \"code\": \"structure\",",
											"            \"details\": {",
											"                \"coding\": [",
											"                    {",
											"                        \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/Spine-ErrorOrWarningCode\",",
											"                        \"version\": \"1\",",
											"                        \"code\": \"PRECONDITION_FAILED\",",
											"                        \"display\": \"Required condition was not fulfilled\"",
											"                    }",
											"                ]",
											"            },",
											"            \"diagnostics\": \"Invalid update with error - If-Match header must be supplied to update this resource\"",
											"        }",
											"    ]",
											"}",
											"",
											"pm.environment.set(\"expected_response\", expected_response);"
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disabledSystemHeaders": {}
							},
							"request": {
								"method": "PATCH",
								"header": [
									{
										"key": "Content-Type",
										"type": "text",
										"value": "application/json-patch+json"
									},
									{
										"key": "X-Request-ID",
										"value": "{{request_id}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"patches\": [\n        {\n            \"op\": \"replace\",\n            \"path\": \"/name/0\",\n            \"value\": {\n                \"id\": \"123\",\n                \"use\": \"usual\",\n                \"period\": {\n                    \"start\": \"2020-01-01\",\n                    \"end\": \"2021-12-31\"\n                },\n                \"given\": [\n                    \"James\"\n                ],\n                \"family\": \"Smith\",\n                \"prefix\": [\n                    \"Mr\"\n                ],\n                \"suffix\": [\n                    \"MBE\"\n                ]\n            }\n        }\n    ]\n}",
									"options": {
										"raw": {}
									}
								},
								"url": {
									"raw": "{{environment}}/Patient/9000000009",
									"host": [
										"{{environment}}"
									],
									"path": [
										"Patient",
										"9000000009"
									]
								}
							},
							"response": []
						},
						{
							"name": "Update: Incorrect Resource Version",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "5e07e484-cfad-419c-aad6-bf97c9220928",
										"exec": [
											"var response = pm.response.json();",
											"    ",
											"",
											"pm.test(\"Returns status code 412 Precondition failed\", function () {",
											"    pm.response.to.have.status(412);",
											"});",
											"",
											"pm.test(\"Returns correct canned response\", () =>{",
											"    var expected = JSON.stringify(pm.environment.get(\"expected_response\"));",
											"    var actual = JSON.stringify(response);",
											"    pm.expect(actual).to.eql(expected);",
											"});",
											"",
											"pm.test(\"Mirrors X-Request-ID\", function () {",
											"    pm.response.to.have.header(\"x-request-id\", pm.environment.get(\"request_id\"));",
											"});",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "3a25e495-7bcc-4d40-acaa-6d2b3b44d468",
										"exec": [
											"var uuid = require(\"uuid\");",
											"pm.environment.set(\"request_id\", uuid.v4());",
											"",
											"var expected_response =",
											"{",
											"    \"resourceType\": \"OperationOutcome\",",
											"    \"issue\": [",
											"        {",
											"            \"severity\": \"error\",",
											"            \"code\": \"structure\",",
											"            \"details\": {",
											"                \"coding\": [",
											"                    {",
											"                        \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/Spine-ErrorOrWarningCode\",",
											"                        \"version\": \"1\",",
											"                        \"code\": \"PRECONDITION_FAILED\",",
											"                        \"display\": \"Required condition was not fulfilled\"",
											"                    }",
											"                ]",
											"            },",
											"            \"diagnostics\": \"Invalid update with error - This resource has changed since you last read. Please re-read and try again with the new version number.\"",
											"        }",
											"    ]",
											"}",
											"",
											"pm.environment.set(\"expected_response\", expected_response);"
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disabledSystemHeaders": {}
							},
							"request": {
								"method": "PATCH",
								"header": [
									{
										"key": "Content-Type",
										"type": "text",
										"value": "application/json-patch+json"
									},
									{
										"key": "If-Match",
										"type": "text",
										"value": "W/\"1\""
									},
									{
										"key": "X-Request-ID",
										"value": "{{request_id}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"patches\": [\n        {\n            \"op\": \"replace\",\n            \"path\": \"/name/0\",\n            \"value\": {\n                \"id\": \"123\",\n                \"use\": \"usual\",\n                \"period\": {\n                    \"start\": \"2020-01-01\",\n                    \"end\": \"2021-12-31\"\n                },\n                \"given\": [\n                    \"James\"\n                ],\n                \"family\": \"Smith\",\n                \"prefix\": [\n                    \"Mr\"\n                ],\n                \"suffix\": [\n                    \"MBE\"\n                ]\n            }\n        }\n    ]\n}",
									"options": {
										"raw": {}
									}
								},
								"url": {
									"raw": "{{environment}}/Patient/9000000009",
									"host": [
										"{{environment}}"
									],
									"path": [
										"Patient",
										"9000000009"
									]
								}
							},
							"response": []
						},
						{
							"name": "Update: Incorrect Content-Type",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "4ced943d-c29e-4c13-ad27-c878c1dd6180",
										"exec": [
											"var response = pm.response.json();",
											"    ",
											"",
											"pm.test(\"Returns status code 400 Bad Request\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"",
											"pm.test(\"Returns correct canned response\", () =>{",
											"    var expected = JSON.stringify(pm.environment.get(\"expected_response\"));",
											"    var actual = JSON.stringify(response);",
											"    pm.expect(actual).to.eql(expected);",
											"});",
											"",
											"pm.test(\"Mirrors X-Request-ID\", function () {",
											"    pm.response.to.have.header(\"x-request-id\", pm.environment.get(\"request_id\"));",
											"});",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "67165800-4302-425d-bbdf-3dd04fe8c615",
										"exec": [
											"var uuid = require(\"uuid\");",
											"pm.environment.set(\"request_id\", uuid.v4());",
											"",
											"var expected_response =",
											"{",
											"    \"resourceType\": \"OperationOutcome\",",
											"    \"issue\": [",
											"        {",
											"            \"severity\": \"error\",",
											"            \"code\": \"processing\",",
											"            \"details\": {",
											"                \"coding\": [",
											"                    {",
											"                        \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/Spine-ErrorOrWarningCode\",",
											"                        \"version\": \"1\",",
											"                        \"code\": \"UNSUPPORTED_SERVICE\",",
											"                        \"display\": \"Unsupported Service\"",
											"                    }",
											"                ]",
											"            }",
											"        }",
											"    ]",
											"}",
											"",
											"pm.environment.set(\"expected_response\", expected_response);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PATCH",
								"header": [
									{
										"key": "Content-Type",
										"type": "text",
										"value": "text/xml"
									},
									{
										"key": "If-Match",
										"type": "text",
										"value": "W/\"2\""
									},
									{
										"key": "X-Request-ID",
										"value": "{{request_id}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"patches\": [\n        {\n            \"op\": \"replace\",\n            \"path\": \"/name/0\",\n            \"value\": {\n                \"id\": \"123\",\n                \"use\": \"usual\",\n                \"period\": {\n                    \"start\": \"2020-01-01\",\n                    \"end\": \"2021-12-31\"\n                },\n                \"given\": [\n                    \"James\"\n                ],\n                \"family\": \"Smith\",\n                \"prefix\": [\n                    \"Mr\"\n                ],\n                \"suffix\": [\n                    \"MBE\"\n                ]\n            }\n        }\n    ]\n}",
									"options": {
										"raw": {}
									}
								},
								"url": {
									"raw": "{{environment}}/Patient/9000000009",
									"host": [
										"{{environment}}"
									],
									"path": [
										"Patient",
										"9000000009"
									]
								}
							},
							"response": []
						},
						{
							"name": "Update: No patches",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "93b6e935-d4fc-4f09-8f9d-3135567759eb",
										"exec": [
											"var response = pm.response.json();",
											"    ",
											"",
											"pm.test(\"Returns status code 400 Bad Request\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"",
											"pm.test(\"Returns correct canned response\", () =>{",
											"    var expected = JSON.stringify(pm.environment.get(\"expected_response\"));",
											"    var actual = JSON.stringify(response);",
											"    pm.expect(actual).to.eql(expected);",
											"});",
											"",
											"pm.test(\"Mirrors X-Request-ID\", function () {",
											"    pm.response.to.have.header(\"x-request-id\", pm.environment.get(\"request_id\"));",
											"});",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "de9e62f9-89a8-4966-9db0-5d12e335be82",
										"exec": [
											"var uuid = require(\"uuid\");",
											"pm.environment.set(\"request_id\", uuid.v4());",
											"",
											"var expected_response =",
											"{",
											"    \"resourceType\": \"OperationOutcome\",",
											"    \"issue\": [",
											"        {",
											"            \"severity\": \"error\",",
											"            \"code\": \"structure\",",
											"            \"details\": {",
											"                \"coding\": [",
											"                    {",
											"                        \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/Spine-ErrorOrWarningCode\",",
											"                        \"version\": \"1\",",
											"                        \"code\": \"INVALID_UPDATE\",",
											"                        \"display\": \"Update is invalid\"",
											"                    }",
											"                ]",
											"            },",
											"            \"diagnostics\": \"Invalid update with error - No patches found\"",
											"        }",
											"    ]",
											"}",
											"",
											"pm.environment.set(\"expected_response\", expected_response);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PATCH",
								"header": [
									{
										"key": "Content-Type",
										"type": "text",
										"value": "application/json-patch+json"
									},
									{
										"key": "If-Match",
										"type": "text",
										"value": "W/\"2\""
									},
									{
										"key": "X-Request-ID",
										"value": "{{request_id}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"patches\": []\n}",
									"options": {
										"raw": {}
									}
								},
								"url": {
									"raw": "{{environment}}/Patient/9000000009",
									"host": [
										"{{environment}}"
									],
									"path": [
										"Patient",
										"9000000009"
									]
								}
							},
							"response": []
						},
						{
							"name": "Update: Invalid patches",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "b8eac353-0e8b-4d9a-b337-81d62b20ab7d",
										"exec": [
											"var response = pm.response.json();",
											"    ",
											"",
											"pm.test(\"Returns status code 400 Bad Request\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"",
											"pm.test(\"Returns correct canned response\", () =>{",
											"    var expected = JSON.stringify(pm.environment.get(\"expected_response\"));",
											"    var actual = JSON.stringify(response);",
											"    pm.expect(actual).to.eql(expected);",
											"});",
											"",
											"pm.test(\"Mirrors X-Request-ID\", function () {",
											"    pm.response.to.have.header(\"x-request-id\", pm.environment.get(\"request_id\"));",
											"});",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "d80cb449-2b50-415e-bc05-a35396669f46",
										"exec": [
											"var uuid = require(\"uuid\");",
											"pm.environment.set(\"request_id\", uuid.v4());",
											"",
											"var expected_response =",
											"{",
											"    \"resourceType\": \"OperationOutcome\",",
											"    \"issue\": [",
											"        {",
											"            \"severity\": \"error\",",
											"            \"code\": \"structure\",",
											"            \"details\": {",
											"                \"coding\": [",
											"                    {",
											"                        \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/Spine-ErrorOrWarningCode\",",
											"                        \"version\": \"1\",",
											"                        \"code\": \"INVALID_UPDATE\",",
											"                        \"display\": \"Update is invalid\"",
											"                    }",
											"                ]",
											"            },",
											"            \"diagnostics\": \"Invalid patch: Operation `op` property is not one of operations defined in RFC-6902\"",
											"        }",
											"    ]",
											"}",
											"",
											"pm.environment.set(\"expected_response\", expected_response);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PATCH",
								"header": [
									{
										"key": "Content-Type",
										"type": "text",
										"value": "application/json-patch+json"
									},
									{
										"key": "If-Match",
										"type": "text",
										"value": "W/\"2\""
									},
									{
										"key": "X-Request-ID",
										"value": "{{request_id}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"patches\": [\n        {\n            \"op\": \"bad_value\",\n            \"path\": \"not a path\"\n        }\n    ]\n}",
									"options": {
										"raw": {}
									}
								},
								"url": {
									"raw": "{{environment}}/Patient/9000000009",
									"host": [
										"{{environment}}"
									],
									"path": [
										"Patient",
										"9000000009"
									]
								}
							},
							"response": []
						},
						{
							"name": "Update: Missing Request ID",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "c7ab8a78-6207-4bfa-8c55-a5979a08df6f",
										"exec": [
											"var response = pm.response.json();",
											"    ",
											"",
											"pm.test(\"Returns status code 400 Bad Request\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"",
											"pm.test(\"Returns correct canned response\", () =>{",
											"    var expected = JSON.stringify(pm.environment.get(\"expected_response\"));",
											"    var actual = JSON.stringify(response);",
											"    pm.expect(actual).to.eql(expected);",
											"});",
											"",
											"pm.test(\"X-Request-ID not present\", function () {",
											"    pm.response.to.not.have.header(\"x-request-id\");",
											"});",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "3fb32d05-87fd-4585-bf64-8a9e999ed3fa",
										"exec": [
											"var uuid = require(\"uuid\");",
											"pm.environment.set(\"request_id\", uuid.v4());",
											"",
											"var expected_response =",
											"{",
											"    \"resourceType\": \"OperationOutcome\",",
											"    \"issue\": [",
											"        {",
											"            \"severity\": \"error\",",
											"            \"code\": \"value\",",
											"            \"details\": {",
											"                \"coding\": [",
											"                    {",
											"                        \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/Spine-ErrorOrWarningCode\",",
											"                        \"version\": \"1\",",
											"                        \"code\": \"MISSING_VALUE\",",
											"                        \"display\": \"Required value is missing\"",
											"                    }",
											"                ]",
											"            },",
											"            \"diagnostics\": \"Missing value in header 'X-Request-ID'\"",
											"        }",
											"    ]",
											"}",
											"",
											"pm.environment.set(\"expected_response\", expected_response);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PATCH",
								"header": [
									{
										"key": "Content-Type",
										"type": "text",
										"value": "application/json-patch+json"
									},
									{
										"key": "If-Match",
										"type": "text",
										"value": "W/\"2\""
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"patches\": [\n        {\n            \"op\": \"replace\",\n            \"path\": \"/name/0\",\n            \"value\": {\n                \"id\": \"123\",\n                \"use\": \"usual\",\n                \"period\": {\n                    \"start\": \"2020-01-01\",\n                    \"end\": \"2021-12-31\"\n                },\n                \"given\": [\n                    \"James\"\n                ],\n                \"family\": \"Smith\",\n                \"prefix\": [\n                    \"Mr\"\n                ],\n                \"suffix\": [\n                    \"MBE\"\n                ]\n            }\n        }\n    ]\n}",
									"options": {
										"raw": {}
									}
								},
								"url": {
									"raw": "{{environment}}/Patient/9000000009",
									"host": [
										"{{environment}}"
									],
									"path": [
										"Patient",
										"9000000009"
									]
								}
							},
							"response": []
						},
						{
							"name": "Update: Invalid Request ID",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "246e5a52-2179-442c-8b2f-c6188b0f9e21",
										"exec": [
											"var response = pm.response.json();",
											"    ",
											"",
											"pm.test(\"Returns status code 400 Bad Request\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"",
											"pm.test(\"Returns correct canned response\", () =>{",
											"    var expected = JSON.stringify(pm.environment.get(\"expected_response\"));",
											"    var actual = JSON.stringify(response);",
											"    pm.expect(actual).to.eql(expected);",
											"});",
											"",
											"pm.test(\"Mirrors X-Request-ID\", function () {",
											"    pm.response.to.have.header(\"x-request-id\", pm.environment.get(\"request_id\"));",
											"});",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "98d98ff1-a054-4100-a63e-0bd41d726c2a",
										"exec": [
											"pm.environment.set(\"request_id\", \"1234\");",
											"",
											"var expected_response =",
											"{",
											"    \"resourceType\": \"OperationOutcome\",",
											"    \"issue\": [",
											"        {",
											"            \"severity\": \"error\",",
											"            \"code\": \"value\",",
											"            \"details\": {",
											"                \"coding\": [",
											"                    {",
											"                        \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/Spine-ErrorOrWarningCode\",",
											"                        \"version\": \"1\",",
											"                        \"code\": \"INVALID_VALUE\",",
											"                        \"display\": \"Provided value is invalid\"",
											"                    }",
											"                ]",
											"            },",
											"            \"diagnostics\": \"Invalid value - '1234' in header 'X-Request-ID'\"",
											"        }",
											"    ]",
											"}",
											"",
											"pm.environment.set(\"expected_response\", expected_response);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PATCH",
								"header": [
									{
										"key": "Content-Type",
										"type": "text",
										"value": "application/json-patch+json"
									},
									{
										"key": "If-Match",
										"type": "text",
										"value": "W/\"2\""
									},
									{
										"key": "X-Request-ID",
										"value": "{{request_id}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"patches\": [\n        {\n            \"op\": \"replace\",\n            \"path\": \"/name/0\",\n            \"value\": {\n                \"id\": \"123\",\n                \"use\": \"usual\",\n                \"period\": {\n                    \"start\": \"2020-01-01\",\n                    \"end\": \"2021-12-31\"\n                },\n                \"given\": [\n                    \"James\"\n                ],\n                \"family\": \"Smith\",\n                \"prefix\": [\n                    \"Mr\"\n                ],\n                \"suffix\": [\n                    \"MBE\"\n                ]\n            }\n        }\n    ]\n}",
									"options": {
										"raw": {}
									}
								},
								"url": {
									"raw": "{{environment}}/Patient/9000000009",
									"host": [
										"{{environment}}"
									],
									"path": [
										"Patient",
										"9000000009"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Polling",
					"item": [
						{
							"name": "Polling: Message Id Not Found",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "35fcf700-05c8-4957-8b66-5efecc5caed7",
										"exec": [
											"var response = pm.response.json();",
											"",
											"pm.test(\"Returns status code 404 Not Found\", function () {",
											"    pm.response.to.have.status(404);",
											"});",
											"",
											"pm.test(\"Returns correct canned response\", () => {",
											"    var expected = JSON.stringify(pm.environment.get(\"expected_response\"));",
											"    var actual = JSON.stringify(response);",
											"    pm.expect(actual).to.eql(expected);",
											"});",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "c3642b4c-8334-4370-9fca-de6601f004a4",
										"exec": [
											"var expected_response =",
											"{",
											"    \"resourceType\": \"OperationOutcome\",",
											"    \"issue\": [",
											"        {",
											"            \"severity\": \"information\",",
											"            \"code\": \"non-found\",",
											"            \"details\": {",
											"                \"coding\": [",
											"                    {",
											"                        \"system\": \"https://fhir.nhs.uk/R4/CodeSystem/Spine-ErrorOrWarningCode\",",
											"                        \"version\": \"1\",",
											"                        \"code\": \"POLLING_ID_NOT_FOUND\",",
											"                        \"display\": \"The polling id was not found\"",
											"                    }",
											"                ]",
											"            }",
											"        }",
											"    ]",
											"}",
											"",
											"pm.environment.set(\"expected_response\", expected_response);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Content-Type",
										"type": "text",
										"value": "",
										"disabled": true
									},
									{
										"key": "If-Match",
										"type": "text",
										"value": "",
										"disabled": true
									}
								],
								"url": {
									"raw": "{{environment}}/_poll/20200522091633363041_000002",
									"host": [
										"{{environment}}"
									],
									"path": [
										"_poll",
										"20200522091633363041_000002"
									]
								}
							},
							"response": []
						},
						{
							"name": "Polling: Message Id not complete",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "5b52cf58-3fe4-4a2b-9f0b-b980370fcd3f",
										"exec": [
											"pm.test(\"Returns status code 202 Accepted\", function () {",
											"    pm.response.to.have.status(202);",
											"});",
											"",
											"pm.test(\"Returns correct content-location header\", function () {",
											"    pm.response.to.have.header(\"content-location\", \"/_poll/20200522091633363041_000001\");",
											"});",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "d550ca73-f81c-4a0d-a34d-05be86916738",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Content-Type",
										"type": "text",
										"value": "",
										"disabled": true
									},
									{
										"key": "If-Match",
										"type": "text",
										"value": "",
										"disabled": true
									}
								],
								"url": {
									"raw": "{{environment}}/_poll/20200522091633363041_000001",
									"host": [
										"{{environment}}"
									],
									"path": [
										"_poll",
										"20200522091633363041_000001"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				}
			],
			"protocolProfileBehavior": {}
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"id": "4dcfef87-eb6f-40cf-a345-f238b995f86a",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"id": "c9598c52-cdc6-4d8b-89d2-728e96051c1a",
				"type": "text/javascript",
				"exec": [
					"",
					"",
					"if (pm.response.code != 202) {",
					"        pm.test(\"Returns application/fhir+json Content-Type header\", () => {",
					"                pm.response.to.have.header(\"Content-Type\");",
					"                pm.expect(postman.getResponseHeader(\"Content-type\")).to.equal(\"application/fhir+json\");",
					"        });",
					"}"
				]
			}
		}
	],
	"protocolProfileBehavior": {}
}